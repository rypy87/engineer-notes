# ReactåŸºç¡€

### ç®€ä»‹

Reactç”± Facebook çš„è½¯ä»¶å·¥ç¨‹å¸ˆ Jordan Walke åˆ›å»ºï¼Œä»–å‘å¸ƒäº†ä¸€ä¸ªåä¸ºâ€œFaxJSâ€çš„ React æ—©æœŸåŸå‹ã€‚ç”¨æ¥æ¶è®¾ Instagram çš„ç½‘ç«™ã€‚2013 å¹´ 5 æœˆåœ¨ JSConf US å®£å¸ƒå¼€æ”¾æºä»£ç ã€‚

#### åŸºç¡€æ¦‚å¿µ

Reactæ˜¯ä¸€ä¸ªå£°æ˜å¼ï¼Œé«˜æ•ˆä¸”çµæ´»çš„ç”¨äºæ„å»º Webåº”ç”¨äº¤äº’ç•Œé¢çš„ JavaScript åº“ã€‚

Reacté‡‡ç”¨ç»„å°†æ¨¡å¼æ„å»ºå¤æ‚çš„UIç•Œé¢ã€‚

Reactä½¿ç”¨ Facebookè‡ªä¸»ç ”å‘çš„ä¸€å¥—è¯­æ³•ç³–--JSXã€‚

Reactå¯ç”¨ä½œå¼€å‘å…·æœ‰ Next.js ç­‰æ¡†æ¶çš„å•é¡µã€æ‰‹æœºæˆ–æœåŠ¡å™¨æ¸²æŸ“åº”ç”¨ç¨‹åºçš„åŸºç¡€ã€‚

Reactåªä¸“æ³¨çŠ¶æ€ç®¡ç†å’Œå°†çŠ¶æ€æ¸²æŸ“åˆ° DOMï¼Œå› æ­¤åˆ›å»º React åº”ç”¨ç¨‹åºé€šå¸¸éœ€è¦ä½¿ç”¨é¢å¤–çš„å·¥å…·åº“æ¥è¿›è¡Œè·¯ç”±å®ç°ï¼Œä»¥åŠæŸäº›å®¢æˆ·ç«¯åŠŸèƒ½ã€‚

Reactäº 2015 å¹´ 2 æœˆå‘å¸ƒReact Nativeï¼Œæ”¯æŒä½¿ç”¨ React è¿›è¡ŒåŸç”Ÿ Androidã€iOS å’Œ UWP å¼€å‘ã€‚

#### å®˜ç½‘

```
https://zh-hans.reactjs.org/
```

#### è¿‘æœŸç‰ˆæœ¬å†å²

2022.3.29 18.0.0

2020.10.20 17.0.0

2017.9.26 16.0.0

#### æœ€æ–°ç‰ˆæœ¬

18.2.0

#### ä¼˜ç¼ºç‚¹

**ä¼˜ç‚¹**

**1.å£°æ˜å¼è®¾è®¡** âˆ’Reacté‡‡ç”¨å£°æ˜èŒƒå¼ï¼Œå¯ä»¥è½»æ¾æè¿°åº”ç”¨ã€‚

**2.é«˜æ•ˆ** âˆ’Reacté€šè¿‡å¯¹DOMçš„æ¨¡æ‹Ÿï¼Œæœ€å¤§é™åº¦åœ°å‡å°‘ä¸DOMçš„äº¤äº’ã€‚

**3.çµæ´»** âˆ’Reactå¯ä»¥ä¸å·²çŸ¥çš„åº“æˆ–æ¡†æ¶å¾ˆå¥½åœ°é…åˆï¼Œå…¼å®¹æ€§å¾ˆå¥½ã€‚

**4.JSX** âˆ’ JSX ï¼ˆJavascript xmlï¼‰æ˜¯ JavaScript è¯­æ³•çš„æ‰©å±•ã€‚React ä¸“å±è¯­æ³• ï¼Œå»ºè®®ä½¿ç”¨ã€‚

**5.ç»„ä»¶** âˆ’ é€šè¿‡ React æ„å»ºç»„ä»¶ï¼Œä¸€åˆ‡çš†ç»„ä»¶ï¼Œä»£ç ç»„ä»¶åŒ–æ›´ç®€å•ã€‚

**6.å•å‘å“åº”çš„æ•°æ®æµ** âˆ’ React å®ç°äº†å•å‘å“åº”çš„æ•°æ®æµï¼Œæœ‰æ•ˆå‡å°‘é‡å¤ç‡ã€‚

**ç¼ºç‚¹**

React å¹¶ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ¡†æ¶ï¼Œå› æ­¤ä¸é€‚åˆåšä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®æ„å»ºï¼Œå®ƒåªå®ç°äº† MVC æ¨¡å¼ä¸­çš„ V(View)å±‚ã€‚å¦‚æœæ„å»ºå¤§å‹é¡¹ç›®éœ€è¦ä¸€å¥—å®Œæ•´çš„æ¡†æ¶ï¼ŒåŸºæœ¬éƒ½éœ€è¦åŠ ä¸Š ReactRouter å’Œ Flux æ‰èƒ½å†™å¤§å‹åº”ç”¨ã€‚

### å®‰è£…

#### CDNæ–¹å¼

```
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script><script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
```

#### è„šæ‰‹æ¶æ–¹å¼

**reactè„šæ‰‹æ¶å®‰è£…**

```
npm i create-react-app [-g]
```

**åˆ›å»ºé¡¹ç›®**

```
npx create-react-app é¡¹ç›®ånpm init react-app   é¡¹ç›®å 
```

é€‰æ‹©æ¨¡æ¿åˆ›å»º

```
--template [template-name]
```

**è„šæ‰‹æ¶ç›®å½•**

```
-demo    -node_modules           // ä¾èµ–åŒ…    -public                 // æ‰“åŒ…ä¹‹åpublicæ–‡ä»¶å¤¹ä¸ä¼šè¿›è¡Œå‹ç¼©        favicon.ico         // åçˆ±å›¾æ ‡        index.html          // å•é¡µé¢åº”ç”¨çš„htmlæ–‡ä»¶,ä¸»é¡µé¢        logo192.png         // logoå›¾        logo512.png         // logoå›¾        manifest.json       // åº”ç”¨åŠ å£³çš„é…ç½®æ–‡ä»¶        robots.txt          // çˆ¬è™«åè®®æ–‡ä»¶    -src        App.css             // Appç»„ä»¶çš„æ ·å¼        App.js              // Appç»„ä»¶        App.test.js         // Appæµ‹è¯•æ–‡ä»¶        index.css           // å…¥å£æ ·å¼        index.js            // å…¥å£æ–‡ä»¶        logo.svg            // logoå›¾        reportWebVitals.js  // é¡µé¢æ€§èƒ½åˆ†ææ–‡ä»¶ï¼ˆéœ€è¦web-vitalsåº“çš„æ”¯æŒï¼‰        setupTests.js       //  ç»„ä»¶å•å…ƒæµ‹è¯•çš„æ–‡ä»¶ï¼ˆéœ€è¦jest-domåº“çš„æ”¯æŒï¼‰    .gitgnore               // å¿½ç•¥æ–‡ä»¶ï¼Œä¸éœ€è¦ä¸Šä¼ åˆ°gitçš„æ–‡ä»¶    package-lock.json       // é”å®šé¡¹ç›®çš„ä¾èµ–åŒ…åŠç‰ˆæœ¬å·    package.json            // é¡¹ç›®ä¿¡æ¯    READMO.md               // è¯´æ˜æ–‡ä»¶
```

**æ¸…ç©ºæ–‡ä»¶**

åªç•™ä¸‹index.htmlã€App.jså’Œindex.js

å»æ‰index.htmlä¸­çš„å¼•å…¥

```
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
```

**ä¿®æ”¹è„šæ‰‹æ¶é¡¹ç›®ç«¯å£å·**

**package.json**

```
{  "scripts": {    "start": "set port=5000 && react-scripts start"  }}
```

### JSXè¯­æ³•

#### æ³¨é‡Šè¯­æ³•

å¿«æ·é”® ctrl+/

```
{/* æ³¨é‡Šå†…å®¹ */}
```

#### è¾“å‡ºè¡¨è¾¾å¼

**åŸºæœ¬è¯­æ³•**

```
{å˜é‡/å¯¹è±¡å±æ€§/å‡½æ•°è°ƒç”¨}
```

æ³¨ï¼šå¦‚æœå¤åˆæ•°æ®ç±»å‹ï¼Œå¤šå±‚çº§æ•°æ®ä¼šæŠ¥é”™ï¼Œéœ€è¦ç»“åˆJSON.stringfy()

**æ¡ˆä¾‹**

```
function App() {  let a=30;  const user={username:"admin"};  function f(){  	return 'æˆ‘æ˜¯å‡½æ•°';}  return (    <div>      {/* æ•°æ®ç»‘å®š */}        <p>å¹´é¾„{a}</p>        <p>{f()}</p>        <p>{user.username}</p>        <p>{JSON.stringify(user)}</p>    </div>  );}
```

**æ ‡ç­¾å±æ€§è¯­æ³•**

```
<æ ‡ç­¾ å±æ€§å={å˜é‡}></æ ‡ç­¾>
```

**æ¡ˆä¾‹**

```
function App() {  let a=30;  let imgSrc=`https://t7.baidu.com/it/u=1595072465,3644073269&fm=193&f=GIF`;  return (    <div>      {/* å±æ€§ç»‘å®š */}      <img src={imgSrc} aa={a}></img>    </div>  );}
```

**ä¸‰ç›®è¡¨è¾¾å¼è¯­æ³•**

```
{ä¸‰ç›®è¡¨è¾¾å¼}
```

**æ¡ˆä¾‹**

```
function App() {  let a=30;  return (    <div>      {/* æ¡ä»¶æ¸²æŸ“ */}        <p>å¹´é¾„{a>18?'å·²æˆå¹´':'æœªæˆå¹´'}</p>    </div>  );}
```

**åˆ—è¡¨è¯­æ³•**

```
{	å¯éå†å¼•ç”¨.map(()=>{return <æ ‡ç­¾ key={}>å…ƒç´ </æ ‡ç­¾>})}
```

**æ¡ˆä¾‹**

```
function App() {  const arr=[1,2,34,5,6,7,8];  return (    <div>      <ul>        {              arr.map((item,index)=>{          return <p key={index}>æ•°ç»„å…ƒç´ :{item},{index}</p>        })}      </ul>    </div>  );}
```

**æ ‡ç­¾çš„ç±»æ ·å¼**

```
<æ ‡ç­¾ className="ç±»å"></æ ‡ç­¾>
```

**æ¡ˆä¾‹**

```
function App() {    function f1(){      let user={username:"admin",pwd:123456}      return Object.values(user);	}  return (    <div>       {f1().map(((item,index)=>{          return <p key={index} className='a'>{item}</p>        }))}    </div>  );}
```

**æ ‡ç­¾çš„è¡Œå†…æ ·å¼**

```
<æ ‡ç­¾ style={{è¡Œå†…æ ·å¼}}></æ ‡ç­¾>
```

**æ¡ˆä¾‹**

```
function App() {  return (    <div>   		<p style={{color:"red"}}>æˆ‘è¦æµ‹è¯•è¡Œå†…æ ·å¼</p>    </div>  );}
```

#### jsxè§„åˆ™

1ã€åœ¨JSXè¯­æ³•ä¸­ï¼Œå½“é‡åˆ°äº†<>å°±ä¼šæŒ‰ç…§htmlè¯­æ³•æ¥è§£æï¼Œå½“é‡åˆ°äº†{}å°±ä¼šæŒ‰ç…§jsè¯­æ³•æ¥è§£æã€‚

2ã€returnè¿”å›å€¼æœ€å¤–å±‚åªèƒ½æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾ã€‚

3ã€JSXæ ‡ç­¾å¯ä»¥ç›¸äº’è¿›è¡ŒåµŒå¥—ï¼Œæ³¨æ„ä»£ç çš„ç¼©è¿›å’Œæ¢è¡Œï¼Œå¢å¼ºä»£ç çš„å¯è¯»æ€§ã€‚

4ã€é€šè¿‡JSXè¯­æ³•å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸­ä¹Ÿæœ‰è™šæ‹ŸDOMã€‚

**vscodeè‡ªåŠ¨jsxè¡¥å…¨**

```
ç‚¹å‡»å·¦ä¸‹è§’â€”â€”>è®¾ç½®â€”â€”>æœç´¢emmetâ€”â€”>ç‚¹å‡»åœ¨settings.jsonä¸­ç¼–è¾‘â€”â€”>æ·»åŠ å¦‚ä¸‹ä»£ç "emmet.includeLanguages": {    "javascript": "javascriptreact"}
```

### äº‹ä»¶

#### äº‹ä»¶çš„ç»‘å®š

**è¯­æ³•**

**ç®­å¤´å‡½æ•°æ–¹å¼**

```
<button onäº‹ä»¶å={()=>this.fn1()}></button>
```

**bindæ–¹å¼**

```
<button onäº‹ä»¶å={this.fn1.bind()}></button>
```

**æ¡ˆä¾‹**

```
function f(){  console.log("æˆ‘è¢«ç‚¹å‡»äº†");}      {/* ç®­å¤´å‡½æ•°æ–¹å¼ */}      <button onClick={()=>f()}>æŒ‰é’®</button>      {/* bindæ–¹å¼ */}      <button onClick={f.bind()}>æŒ‰é’®2</button>
```

#### äº‹ä»¶ä¼ å‚

**è¯­æ³•**

**ç®­å¤´å‡½æ•°æ–¹å¼**

```
<button onäº‹ä»¶å={()=>this.fn1(...å‚æ•°)}></button>
```

**bindæ–¹å¼**

```
<button onäº‹ä»¶å={this.fn1.bind(event,...å‚æ•°)}></button>
```

**æ¡ˆä¾‹**

```
function ff(a){  console.log(a);}      <button onClick={()=>ff('admin')}>æŒ‰é’®3</button>      <button onClick={ff.bind(Event,"adddd")}>æŒ‰é’®4</button>
```

#### äº‹ä»¶å¯¹è±¡

**è¯­æ³•**

**ç®­å¤´å‡½æ•°æ–¹å¼**

```
<button onäº‹ä»¶å={(event)=>this.fn1([...å‚æ•°,]event[,...å‚æ•°])}></button>
```

**bindæ–¹å¼**

```
<button onäº‹ä»¶å={this.fn1.bind(event,...å‚æ•°)}></button>
```

**æ¡ˆä¾‹**

```
function fff(a,event){  console.log(a);  console.log(event);}      <button onClick={()=>fff("aaaaa",Event)}>æŒ‰é’®5</button>      <button onClick={fff.bind(Event,"adddd")}>æŒ‰é’®6</button>
```

#### äº‹ä»¶åº”ç”¨

**é˜»æ­¢é»˜è®¤è¡Œä¸º**

```
function ffff(event){  event.preventDefault();  console.log("æˆ‘è¢«ç‚¹å‡»");}<div className="dBox" onContextMenu={(event)=>ffff(event)}>æˆ‘æ˜¯ç‚¹å‡»</div>
```

**é˜»æ­¢äº‹ä»¶ä¼ æ’­**

```
function f1(){  console.log("æˆ‘è¢«ç‚¹å‡»1");}function f2(event){  event.stopPropagation();  console.log("æˆ‘è¢«ç‚¹å‡»2");}      <div className="dBoxb" onClick={()=>f1()}>        <div className="dBox" onClick={(event)=>f2(event)}></div>      </div>
```

#### äº‹ä»¶æ•è·

**è¯­æ³•**

```
onäº‹ä»¶åç§°Capture={}
```

**æ¡ˆä¾‹**

```
function f1(){  console.log("æˆ‘è¢«ç‚¹å‡»1");}function f2(event){  console.log("æˆ‘è¢«ç‚¹å‡»2");}      <div className="dBoxb" onClickCapture={()=>f1()}>        <div className="dBox" onClickCapture={()=>f2()}></div>      </div>
```

### çŠ¶æ€æœºï¼ˆstateï¼‰

#### çŠ¶æ€æœºå®šä¹‰

çŠ¶æ€æœºå®šä¹‰åœ¨ç±»ä¸­

**æ„é€ æ–¹æ³•å®šä¹‰**

```
  constructor(){    super()    this.state = {}  }
```

**å˜é‡å®šä¹‰**

```
state = {}
```

**æ¡ˆä¾‹**

```
import {Component}from "react";class page extends Component{    //stateçš„å®šä¹‰æœ‰ä¸¤ç§æ–¹å¼    //ç›´æ¥å®šä¹‰    // state={    //     username:"admin",    //     pwd:123456    // }    //åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰çŠ¶æ€æœº    constructor(){        super();        this.state={//å…ˆå£°æ˜ï¼Œåœ¨å¸®ç»™å½“å‰ç±»            username:"admin",            user:{u1:"aaa"},            arr:[1,2,4,5,6,8,9]        }    }    render(){        let {username,user,arr}=this.state;        return(            <div>                {this.state.username}                {this.state.pwd}                {                    arr.map(item=>{                        return <p>{item}</p>                    })                }            </div>          )      }}export default page;    
```

#### çŠ¶æ€æœºä½¿ç”¨

**ä¿®æ”¹çŠ¶æ€æœºè¯­æ³•**

```
setState({}[,()=>{}])
```

å‚æ•°1ï¼Œéœ€è¦ä¿®æ”¹é”®åå’Œå€¼

å‚æ•°2ï¼šå›è°ƒå‡½æ•°ï¼Œç”±äºsetStateæ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥å‚æ•°äºŒç›¸å½“äºthenæ–¹æ³•ã€‚

æ³¨æ„äº‹é¡¹

1ã€å¦‚æœå®šä¹‰çš„æ•°æ®ä¸åœ¨stateä¸­ï¼Œåˆ™æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œä¸ä¼šé©±åŠ¨é¡µé¢é‡æ–°æ¸²æŸ“ã€‚

2ã€åªèƒ½ä½¿ç”¨setState()æ¥ä¿®æ”¹çŠ¶æ€æœºçš„å€¼ã€‚setStateæ˜¯å¼‚æ­¥çš„

3ã€ä¸€å®šä¸è¦åœ¨renderä¸­è°ƒç”¨setState()ï¼Œå› ä¸ºsetState()ä¼šå¼•èµ·é¡µé¢çš„é‡æ–°æ¸²æŸ“ï¼Œå¦‚æœåœ¨renderä¸­è°ƒç”¨ä¼šé™·å…¥æ­»å¾ªç¯ã€‚

4ã€åœ¨å¼€å‘æ¨¡å¼ä¸‹ \<React.StrictMode>ä¼šè¢«æ‰§è¡Œï¼Œå¯¼è‡´renderå‡½æ•°æ‰§è¡Œä¸¤ä¾¿å»æ‰å°±å¥½ã€‚

5ã€stateä¸­æ•°æ®æ”¯æŒè§£æ„èµ‹å€¼ã€‚

6ã€stateä¸­æ“ä½œæ•°ç»„/å¯¹è±¡ï¼Œéœ€è¦å…ˆå–æ•°ç»„/å¯¹è±¡ï¼Œä¿®æ”¹æ•°ç»„/å¯¹è±¡ï¼Œå†å­˜æ”¾å›å»

**æ¡ˆä¾‹**

çŠ¶æ€æœºçš„å®šä¹‰ä¿®æ”¹æ¡ˆä¾‹

```
import {Component}from "react";class page extends Component{    constructor(){        super();        this.state={//å…ˆå£°æ˜ï¼Œåœ¨å¸®ç»™å½“å‰ç±»            username:"admin"        }    }    changeUserName(){       //this.setState({username:"admin1",pwd:123123});       //this.a=60;    }    a=30;    render(){        let {username,user,arr}=this.state;        return(            <div>                æˆ‘æ˜¯å­ç»„ä»¶                <button onClick={()=>this.changeUserName()}>æŒ‰é’®</button>                {this.state.username}                {this.state.pwd}                <p>{username}</p>            </div>          )      }}export default page;    
```

æ“ä½œæ•°ç»„

```
import {Component}from "react";class page extends Component{    constructor(){        super();        this.state={            arr:[1,2,4,5,6,8,9]        }    }    changeUserName(){       //this.setState({arr:[1,2,100,5,6,8,9]})       this.state.arr.splice(2,1,100)       this.setState({arr:this.state.arr})    }    render(){        let {arr}=this.state;        return(            <div>                æˆ‘æ˜¯ç»„ä»¶                <button onClick={()=>this.changeUserName()}>æŒ‰é’®</button>                {                    arr.map(item=>{                        return <p>{item}</p>                    })                }            </div>          )      }}export default page;
```

æ“ä½œå¯¹è±¡

```
import {Component}from "react";class page extends Component{    constructor(){        super();        this.state={            user:{u1:"aaa"}        }    }    changeUserName(){       this.setState({user:{u1:"bbbb"}})    }    render(){        let {user}=this.state;        return(            <div>                æˆ‘æ˜¯ç»„ä»¶                <button onClick={()=>this.changeUserName()}>æŒ‰é’®</button>                <p>{user.u1}</p>            </div>          )      }}export default page;
```

### formè¡¨å•

#### è¡¨å•æ§ä»¶åˆ†ç±»

**å—æ§è¡¨å•**

é€šè¿‡è¡¨å•æ§ä»¶çš„valueå±æ€§ï¼Œç»™è¡¨å•æ§ä»¶èµ‹äºˆä»“åº“çš„é»˜è®¤å€¼ï¼Œè¿™ç§è¡¨å•æ§ä»¶ç§°ä¸ºå—æ§è¡¨å•æ§ä»¶ã€‚

**ç‰¹ç‚¹**

å°±åœ°åé¦ˆï¼Œå¦‚ï¼šéªŒè¯ ç¦ç”¨æŒ‰é’®ï¼Œå¦‚ï¼šæäº¤ æ‰§è¡Œç‰¹å®šçš„è¾“å…¥æ ¼å¼ï¼Œå¦‚ï¼šæ‰‹æœºå·ã€èº«ä»½è¯å·ã€é“¶è¡Œå¡å·

**éå—æ§è¡¨å•**

æ²¡æœ‰é€šè¿‡è¡¨å•æ§ä»¶çš„valueå±æ€§ï¼Œç»™è¡¨å•æ§ä»¶èµ‹äºˆä»“åº“çš„é»˜è®¤å€¼ï¼Œè¿™ç§è¡¨å•æ§ä»¶ç§°ä¸ºéå—æ§è¡¨å•æ§ä»¶ã€‚

\####

**æ¡ˆä¾‹**

```
    state={        username:"admin"    }    changeText(event){        this.setState({username:"aaaaa"})    }    
```

#### å—æ§è¡¨å•å’Œéå—æ§è¡¨å•å¯¹æ¯”

#### ç»¼åˆæ¡ˆä¾‹

è¾“å…¥æ¡†ï¼Œå¯†ç æ¡†ï¼Œå•é€‰æ¡†ï¼Œä¸‹æ‹‰æ¡†ï¼Œå¤šé€‰æ¡†ï¼Œæ–‡æœ¬æ¡†ï¼Œæ˜¯å¦åŒæ„åè®®ã€‚

å§“åï¼Œå¯†ç ï¼Œæ€§åˆ«ï¼ŒèŒä¸šï¼Œçˆ±å¥½ï¼Œè‡ªæˆ‘ä»‹ç»ï¼Œ

```
import {Component}from "react";class Page extends Component{    state={        username:"admin"    }    changeText(event){        // this.setState({username:"aaaaa"})        // console.log(event.target.value);        //console.log(event.target.value);        //å•é€‰æ¡†event.target.checked/event.target.value       // console.log(event.target.value);       //å¤é€‰æ¡†event.target.checked/event.target.value       //ä¸‹æ‹‰æ¡†event.target.value       //æ–‡æœ¬æ¡†event.target.value       console.log(event.target.value);    }    render(){        return(            <div>                ç”¨æˆ·å<input type="text" value={this.state.username} onChange={(event)=>this.changeText(event)}/><br></br>                å¯†&emsp;ç <input type="password" onChange={(event)=>this.changeText(event)}/><br></br>                æ€§&emsp;åˆ«                <input type="radio" name="sex" id="" onChange={(event)=>this.changeText(event)}/>ç”·                <input type="radio" name="sex" id="" />å¥³<br></br>                çˆ±&emsp;å¥½                <input type="checkbox" name="" id=""  onChange={(event)=>this.changeText(event)}/>è¯»                <input type="checkbox" name="" id="" />å†™                <input type="checkbox" name="" id="" />èƒŒ<br></br>                åŸ&emsp;å¸‚                <select name="" id="" onChange={(event)=>this.changeText(event)}>                    <option value="0">å¹¿ä¸œçœ</option>                    <option value="1">æ²³å—çœ</option>                    <option value="2">æ¹–å—çœ</option>                    <option value="3">æ¹–åŒ—çœ</option>                    <option value="4">å°æ¹¾çœ</option>                </select><br></br>                ç®€ä»‹                <textarea name="" id="" cols="30" rows="10"  onChange={(event)=>this.changeText(event)}></textarea>                            </div>        )              }}export default Page
```

### ç»„ä»¶

ç»„ä»¶åˆ†ä¸ºä¸¤ç§å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶ã€‚

#### ç»„ä»¶å®šä¹‰

å»ºè®®å°†ç»„ä»¶å®šä¹‰åˆ°componentsæ–‡ä»¶å¤¹ä¸­ã€‚

**å‡½æ•°ç»„ä»¶**

**è¯­æ³•**

```
function å‡½æ•°å(){  return <div>å†…å®¹</div>}export default å‡½æ•°å
```

**æ¡ˆä¾‹**

```
function child1(){    return <div>        <p>æˆ‘æ˜¯å‡½æ•°ç»„ä»¶</p>        æˆ‘æ˜¯å‡½æ•°ç»„ä»¶    </div>    // return (    //     <div>    //     </div>        // )}export default child1;
```

**ç±»ç»„ä»¶**

**è¯­æ³•**

```
import React,{Component} from "react"class ç±»å extends Component {  render(){    return <div>å†…å®¹</div>  }}export default ç±»å
```

**æ¡ˆä¾‹**

```
import { Component } from 'react';class Child2 extends Component {    render() {        return <div>            æˆ‘æ˜¯ç±»ç»„ä»¶            </div>    }}export default Child2;
```

**å®šä¹‰çš„æ³¨æ„äº‹é¡¹**

1ã€ç»„ä»¶åé¦–å­—æ¯å¿…é¡»å¤§å†™ã€‚ 2ã€ç»„ä»¶æœ€å¤–å±‚åªèƒ½æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾ã€‚

#### ç»„ä»¶çš„ä½¿ç”¨

```
<ç»„ä»¶å></ç»„ä»¶å>
```

**ä½¿ç”¨æ³¨æ„äº‹é¡¹**

1ã€ä½¿ç”¨ä¹‹å‰ç›´æ¥è¿›è¡Œå¼•å…¥ã€‚ 2ã€ç»„ä»¶åŒºåˆ†å¤§å†™ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚

**ä¸¤ç§ç»„ä»¶çš„åŒºåˆ«**

1ã€å­ç»„ä»¶æ¥æ”¶çˆ¶ç»„ä»¶çš„ä¼ å€¼æ–¹å¼ä¸ä¸€æ ·ï¼Œå‡½æ•°å®šä¹‰ä½¿ç”¨propsæ¥æ”¶ï¼Œç±»å®šä¹‰ä½¿ç”¨this.propsæ¥æ”¶ã€‚ 2ã€å‡½æ•°å®šä¹‰æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œç±»å®šä¹‰æœ‰ç”Ÿå‘½å‘¨æœŸã€‚ 3ã€ç±»å®šä¹‰æœ‰çŠ¶æ€æœºstateï¼Œå‡½æ•°å®šä¹‰æ²¡æœ‰çŠ¶æ€æœºstateã€‚

4ã€åœ¨ç±»å®šä¹‰ä¸­é»˜è®¤è¿˜è¦åˆå§‹åŒ–ä¸€ä¸‹ï¼Œè€Œå‡½æ•°å®šä¹‰ä¸éœ€è¦åˆå§‹åŒ–ã€‚å°±åŠ è½½é€Ÿç‡æ¥è¯´ï¼Œå‡½æ•°å®šä¹‰çš„è¦æ¯”ç±»å®šä¹‰å¿«ä¸€ç‚¹ã€‚

5ã€æ–°ç‰ˆæœ¬ä¸­ä½¿ç”¨å‡½æ•°é€Ÿåº¦ä¼šå¿«ä¸€äº›ï¼Œæ—§ç‰ˆæœ¬æ¨èä½¿ç”¨ç±»

#### ç»„ä»¶çš„é€šä¿¡

**props**

**çˆ¶å­ç»„ä»¶ä¼ å€¼**

**çˆ¶ç»„ä»¶**

**è¯­æ³•**

```
<ç»„ä»¶å é”®å={é”®å€¼} ></ç»„ä»¶å>
```

**å­ç»„ä»¶**

**è¯­æ³•**

```
this.props
```

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import {Component}from "react";import Child from "./Child";class Page extends Component{    username="admin";    pwd=123123;    state={        u1:"admin"    }    render(){        return <div>            <Child username={this.username} pwd={this.pwd} ss={this.state}></Child>        </div>    }}export default Page;
```

**å­ç»„ä»¶**

```
import {Component} from "react";class Child extends Component{    render(){        console.log(this.props);        return <div>            æˆ‘æ˜¯å­ç»„ä»¶            {this.props.username}           {JSON.stringify(this.props)}        </div>    }}   export default Child
```

**æ‰¹é‡ä¼ å€¼ï¼ˆçˆ¶å­å­™ä¼ å€¼ï¼‰**

**çˆ¶ç»„ä»¶**

**è¯­æ³•**

```
<ç»„ä»¶å é”®å={é”®å€¼} ></ç»„ä»¶å>
```

**å­ç»„ä»¶**

**è¯­æ³•**

```
<å­ç»„ä»¶å­ç»„ä»¶ {...this.props}></å­ç»„ä»¶å­ç»„ä»¶>
```

**å­™å­ç»„ä»¶**

**è¯­æ³•**

```
this.props
```

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import {Component}from "react";import Child from "./Child";class Page extends Component{    username="admin";    pwd=123123;    state={        u1:"admin"    }    render(){        return <div>            <Child username={this.username} pwd={this.pwd} ss={this.state}></Child>        </div>    }}export default Page;
```

**å­ç»„ä»¶**

```
import {Component} from "react";import Childchild from "./Childchild";class Child extends Component{    render(){        // console.log(this.props);        return <div>            æˆ‘æ˜¯å­ç»„ä»¶            {/* {this.props.username}           {JSON.stringify(this.props)} */}           <Childchild {...this.props}></Childchild>        </div>    }}   export default Child
```

**å­å­ç»„ä»¶**

```
import {Component} from "react";class Childchild extends Component{    render(){        return <div>            æˆ‘æ˜¯å­ç»„ä»¶çš„å­ç»„ä»¶            {JSON.stringify(this.props)}        </div>    }}export default Childchild
```

**ç»„ä»¶çš„è™šæ‹ŸDOM**

**è¯­æ³•**

**çˆ¶ç»„ä»¶**

```
<ç»„ä»¶å><æ ‡ç­¾>å†…å®¹</æ ‡ç­¾></ç»„ä»¶å>
```

**å­ç»„ä»¶**

```
this.props.children
```

å¯ä»¥è·å–çˆ¶ç»„ä»¶ï¼Œé€šè¿‡å­ç»„ä»¶çš„æ ‡ç­¾èŠ‚ç‚¹è·å–å­ç»„ä»¶æ ‡ç­¾èŠ‚ç‚¹ä¸‹çš„å†…å®¹ï¼Œå¹¶å°†å…¶è½¬æ¢æ•°ç»„ã€‚

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import {Component}from "react";import Child from "./Child";class Page extends Component{    render(){        return <div>            <Child>                <b>æˆ‘æ˜¯æ†¨æ†¨</b>                <b>æˆ‘æ˜¯å–œå–œ</b>            </Child>        </div>    }}export default Page;
```

**å­ç»„ä»¶**

```
import {Component} from "react";class Child extends Component{    render(){       console.log(this.props);        return <div>            æˆ‘æ˜¯å­ç»„ä»¶           {this.props.children[0]}        </div>    }}   export default Child
```

**å­çˆ¶ç»„ä»¶ä¼ å€¼**

æ³¨ï¼šé‡‡ç”¨ä¼ é€’ä¿®æ”¹æ–¹æ³•çš„æ–¹å¼è¿›è¡Œä¿®æ”¹ä¼ é€’ã€‚

**çˆ¶ç»„ä»¶**

```
<ç»„ä»¶å æ–¹æ³•å={(event)=>this.çˆ¶ç»„ä»¶çš„æ–¹æ³•(event)}></ç»„ä»¶å>
```

**å­ç»„ä»¶**

```
this.props.æ–¹æ³•å
```

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import {Component}from "react";import Child from "./Child";import "./index.css";class Page extends Component{    state={        username:"admin"    }    chageUsername(aa){        this.setState({username:aa});    }    render(){        return <div className="divp">            æˆ‘æ˜¯çˆ¶ç»„ä»¶            <p>{this.state.username}</p>            <Child changU={(ee)=>this.chageUsername(ee)}></Child>            </div>    }}export default Page;
```

å­ç»„ä»¶

```
import {Component} from "react";import "./index.css";class Child extends Component{    render(){        return <div className="divc">            æˆ‘æ˜¯å­ç»„ä»¶          <button onClick={()=>this.props.changU("æ†¨æ†¨")}>æŒ‰é’®</button>           </div>    }}   export default Child
```

**æ„é€ æ–¹æ³•ä¸­çš„propsä½¿ç”¨**

åœ¨æ„é€ æ–¹æ³•ä¸­ä½¿ç”¨propsï¼Œéœ€è¦å…ˆå°†propsä¼ é€’ç»™componentçˆ¶ç±»æ„é€ æ–¹æ³•ï¼Œæ‰èƒ½åœ¨å­ç±»ä¸­ç»§æ‰¿ä½¿ç”¨ã€‚

**è¯­æ³•**

```
constructor(props){    super(props)    console.log(this.props);}
```

**propså’ŒstateåŒºåˆ«**

stateçŠ¶æ€æœºï¼Œå­˜æ”¾å½“å‰ç»„ä»¶æ•°æ®ï¼Œéœ€è¦é€šè¿‡setState()è¿›è¡Œä¿®æ”¹ã€‚

propsæ˜¯ç”¨æ¥ä¼ å€¼çš„ï¼Œpropsçš„æ•°æ®åœ¨å­ç»„ä»¶ä¸­æ˜¯åªè¯»çš„ï¼Œå¦‚æœéœ€è¦ä¼ å€¼å¯ä»¥ä½¿ç”¨è°ƒç”¨ä¿®æ”¹å‡½æ•°æ–¹å¼ä¼ å€¼ã€‚

### ç»„ä»¶

#### ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ

**å®Œæ•´ç‰ˆ**

![reactå®Œæ•´ç‰ˆç”Ÿå‘½å‘¨æœŸ](file:///E:/%E6%8E%88%E8%AF%BE%E5%86%85%E5%AE%B9/%E4%B8%AD%E5%85%AC/VUE%E8%AF%BE%E7%A8%8B/%E7%AC%94%E8%AE%B0/2022%E5%B9%BF%E5%B7%9EWeb%E5%85%A8%E6%A0%88%E9%9D%A2%E6%8E%88%E5%B0%B1%E4%B8%9A%E7%8F%AD10%E7%8F%AD/img/react%E5%AE%8C%E6%95%B4%E7%89%88%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png?lastModify=1664353384)

**Mounting(æŒ‚è½½)**

constructor() ç»„ä»¶æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–æ•°æ®

getDerivedStateFromProps() åœ¨æ¸²æŸ“ä¹‹å‰ï¼Œä¿®æ”¹stateä¸­çš„æ•°æ®ã€‚ â‘ ã€ä¸€å®šè¦åœ¨å‰é¢åŠ ä¸Šstaticï¼Œå£°æ˜ä¸ºé™æ€çš„ï¼Œä¸ç„¶ä¼šè¢«reactå¿½ç•¥åŒæ—¶è¿˜æŠ¥é”™ â‘¡ã€ä¸€å®šè¦ä¿è¯åœ¨constructorä¸­å®šä¹‰äº†state â‘¢ã€ä¸€å®šè¦åŠ ä¸Šreturnï¼Œå¦‚æœreturnç©ºå¯¹è±¡åˆ™è¡¨ç¤ºä»€ä¹ˆéƒ½ä¸ä¿®æ”¹ï¼Œå¦‚æœreturné”®å€¼å¯¹åˆ™ä¼šä¿®æ”¹æˆå½“å‰è¿™ä¸ªé”®å€¼å¯¹çš„æ ·å­

render() æ¸²æŸ“DOMçš„æ–¹æ³•ï¼ŒåŠ è½½å¹¶æ¸²æŸ“æ‰€æœ‰çš„DOMå…ƒç´  componentDidMount() ç»„ä»¶æŒ‚è½½å®Œæ¯•è°ƒç”¨ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åœ¨è¿™é‡Œå¼€å¯å®šæ—¶å™¨ã€å¼€å¯å€’è®¡æ—¶ã€åšæ•°æ®äº¤äº’

**Updating(æ›´æ–°)**

getDerivedStateFromProps() åœ¨æŒ‚è½½å®Œæˆåï¼Œå†æ¬¡æ¸²æŸ“å‰å†æ¬¡è¢«è°ƒç”¨ï¼Œ æ ¹æ® shouldComponentUpdate() çš„è¿”å›å€¼ï¼Œåˆ¤æ–­ React ç»„ä»¶çš„è¾“å‡ºæ˜¯å¦å—å½“å‰ state æˆ– props æ›´æ”¹çš„å½±å“ã€‚å¯ä»¥å½±å“çš„å¸¸è§æ–¹æ³•åŒ…æ‹¬New propsã€setState()ã€forceUpdate()ã€‚ shouldComponentUpdate(nextProps,nextState) ï¼Œå½“ props æˆ– state å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè¢«è°ƒç”¨ï¼Œå…¶ä¸»è¦åŠŸèƒ½åˆ¤æ–­è¦ä¸è¦æ›´æ–°ï¼Œå¯ä»¥æ§åˆ¶å€¼å˜æ¢è€Œå†³å®šæ˜¯å¦æ›´æ–°ã€‚ 1ã€return true è¦æ›´æ–°ï¼Œå°±ä¼šèµ°renderè¿›è¡Œå±€éƒ¨æ›´æ–° 2ã€return false ä¸è¦æ›´æ–°ï¼Œå°±ä¸ä¼šèµ°renderä¹Ÿä¸ä¼šè¿›è¡Œå±€éƒ¨æ›´æ–°

render() é‡æ–°æ¸²æŸ“DOMå…ƒç´ 

getSnapshotBeforeUpdate() ï¼Œåœ¨æœ€è¿‘ä¸€æ¬¡æ¸²æŸ“è¾“å‡ºï¼ˆæäº¤åˆ° DOM èŠ‚ç‚¹ï¼‰ä¹‹å‰è°ƒç”¨ã€‚

componentDidUpdate() ï¼Œåœ¨æ›´æ–°å®Œæ¯•åè°ƒç”¨

**Unmounting(å¸è½½)**

componentWillUnmount(): åœ¨ç»„ä»¶å¸è½½åŠé”€æ¯ä¹‹å‰ç›´æ¥è°ƒç”¨ã€‚ä¸€èˆ¬æƒ…å†µä¸‹åœ¨è¿™é‡Œå…³é—­å®šæ—¶å™¨ã€å…³é—­å€’è®¡æ—¶

**å¸¸ç”¨ç‰ˆ**

![reactå¸¸ç”¨ç”Ÿå‘½å‘¨æœŸ](file:///E:/%E6%8E%88%E8%AF%BE%E5%86%85%E5%AE%B9/%E4%B8%AD%E5%85%AC/VUE%E8%AF%BE%E7%A8%8B/%E7%AC%94%E8%AE%B0/2022%E5%B9%BF%E5%B7%9EWeb%E5%85%A8%E6%A0%88%E9%9D%A2%E6%8E%88%E5%B0%B1%E4%B8%9A%E7%8F%AD10%E7%8F%AD/img/react%E5%B8%B8%E7%94%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png?lastModify=1664353384)

**çˆ¶å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº**

å•ç»„ä»¶æ‰§è¡Œé¡ºåº

**æ²¡æœ‰æ›´æ–°æ­£å¸¸ç‰ˆæ‰§è¡Œé¡ºåº**

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯å¸è½½å‰

**æ›´æ–°æ­£å¸¸ç‰ˆæ‰§è¡Œé¡ºåº**

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æ›´æ–°å®Œæˆ=>æˆ‘æ˜¯å¸è½½å‰

**æ²¡æœ‰æ›´æ–°å®Œæ•´ç‰ˆæ‰§è¡Œé¡ºåº**

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯å¸è½½å‰

**æ›´æ–°æ­£å¸¸ç‰ˆæ‰§è¡Œé¡ºåº**

**å½“åˆ¤æ–­æ›´æ–°æ–¹æ³•è¿”å›falseçš„æ—¶å€™**

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°=>æˆ‘æ˜¯å¸è½½å‰

**å½“åˆ¤æ–­æ›´æ–°æ–¹æ³•è¿”å›trueçš„æ—¶å€™**

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°=>æˆ‘æ˜¯æ¸²æŸ“=>æœ€åä¸€æ¬¡æ›´æ–°ç»“æœ=>æˆ‘æ˜¯æ›´æ–°å®Œæˆ=>æˆ‘æ˜¯å¸è½½å‰

çˆ¶å­ç»„ä»¶æ‰§è¡Œé¡ºåº

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯è¢«è°ƒç”¨=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æ„é€ å„¿=>æˆ‘æ˜¯è¢«è°ƒç”¨å„¿=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆå„¿=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯è¢«è°ƒç”¨å„¿getDerivedStateFromProps=>æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°å„¿=>æœ€åä¸€æ¬¡æ›´æ–°ç»“æœå„¿=>æœ€åä¸€æ¬¡æ›´æ–°ç»“æœ=>æˆ‘æ˜¯æ›´æ–°å®Œæˆå„¿/æˆ‘æ˜¯å¸è½½å‰å„¿=>æˆ‘æ˜¯æ›´æ–°å®Œæˆ

**æ¡ˆä¾‹**

çˆ¶ç»„ä»¶

```
import  { Component } from 'react'import Child from "./Child";export default class Page extends Component {  constructor(){    super()    this.state={      username:"admin",      flag:true    }    console.log("æˆ‘æ˜¯æ„é€ ");  }  static getDerivedStateFromProps(a,newState){    console.log(a);    console.log(newState);//æ˜¯æœ€æ–°çš„stateå€¼    console.log("æˆ‘æ˜¯è¢«è°ƒç”¨");      //return {username:"addffsddf"};    return null;  }  shouldComponentUpdate(c,newValue){    console.log(c);    console.log(newValue);//æ˜¯æœ€æ–°çš„stateå€¼    console.log("æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°");    return true;  }getSnapshotBeforeUpdate(){  console.log("æœ€åä¸€æ¬¡æ›´æ–°ç»“æœ");  return null;}  componentDidMount(){    console.log("æˆ‘æ˜¯æŒ‚è½½å®Œæˆ");  }  componentDidUpdate(){    console.log("æˆ‘æ˜¯æ›´æ–°å®Œæˆ");  }  componentWillUnmount(){    console.log("æˆ‘æ˜¯å¸è½½å‰");  }    changeUsername(){    this.setState({      flag:false    })  }  render() {    console.log("æˆ‘æ˜¯æ¸²æŸ“");    console.log(this.state);    return (      <div>        <button onClick={()=>this.changeUsername()}>æŒ‰é’®</button>        ç”¨æˆ·å:{this.state.username}        {this.state.flag?<Child username={this.state.username}></Child>:null}        </div>    )  }}
```

å­ç»„ä»¶

```
import React, { Component } from 'react'export default class Child extends Component {    constructor(){        super()        console.log("æˆ‘æ˜¯æ„é€ å„¿");        this.state={                    }      }      static getDerivedStateFromProps(newProps,newState){        console.log(newProps);//æ˜¯æœ€æ–°çš„Propså€¼        // console.log(newState);//æ˜¯æœ€æ–°çš„stateå€¼        console.log("æˆ‘æ˜¯è¢«è°ƒç”¨å„¿");          return {username:"addffsddf"};//return null;      }      shouldComponentUpdate(newProps,newValue){        console.log(newProps);//æ˜¯æœ€æ–°çš„Propså€¼        // console.log(newValue);//æ˜¯æœ€æ–°çš„stateå€¼        console.log("æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°å„¿");        return true;      }    getSnapshotBeforeUpdate(){      console.log("æœ€åä¸€æ¬¡æ›´æ–°ç»“æœå„¿");      return null;    }          componentDidMount(){        console.log("æˆ‘æ˜¯æŒ‚è½½å®Œæˆå„¿");      }      componentDidUpdate(){        console.log("æˆ‘æ˜¯æ›´æ–°å®Œæˆå„¿");      }      componentWillUnmount(){        console.log("æˆ‘æ˜¯å¸è½½å‰å„¿");      }  render() {    let {username}=this.props;    return (      <div>        Child        {username}        </div>    )  }}
```

#### ç»„ä»¶ä¼˜åŒ–

**ç©ºæ ‡ç­¾ç»„ä»¶ï¼ˆFragmentï¼‰**

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾åœ¨çˆ¶ç»„ä»¶ä¸­çš„ulæ ‡ç­¾ä¸­ä½¿ç”¨å­ç»„ä»¶ï¼Œé‚£ä¹ˆç°åœ¨çš„åµŒå¥—æ˜¯ulå¥—divå¥—liï¼Œè¿™æ˜¯ä¸€ä¸ªä¸åˆç†çš„åµŒå¥—ã€‚æˆ‘ä»¬å¸Œæœ›ulæ ‡ç­¾å†…ç›´æ¥å¥—liæ ‡ç­¾ï¼›æˆ‘ä»¬å¯ä»¥å°†å­ç»„ä»¶æœ€å¤–å±‚çš„divåˆ æ‰ï¼Œåªå†™ä¸€ä¸ªç©ºæ ‡ç­¾æ¥è§£å†³ï¼Œä½†æ˜¯å®˜æ–¹ä¸å»ºè®®è¿™æ ·ï¼Œå®˜æ–¹ç»™æˆ‘ä»¬æä¾›äº†fragmentç»„ä»¶æ¥è§£å†³ï¼Œfragmentç»„ä»¶å°±æ˜¯ä¸€ä¸ªç©ºæ ‡ç­¾ã€‚

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import  { Component } from 'react'import Child from './Child';export default class Page extends Component {  render() {    return (      <div>        <ul>            <Child></Child>        </ul>      </div>    )  }}
```

**å­ç»„ä»¶**

```
import { Component, Fragment } from 'react'export default class Child extends Component {    constructor(){        super();        this.state={            arr:["å¤–å–","ç”µå½±","éŸ³ä¹"]        }    }  render() {    let {arr}=this.state;    return (      <Fragment>        {            arr.map((item,index)=><li key={index}>{item}</li>)        }      </Fragment>    )  }}
```

**ç»„ä»¶é”€æ¯ä¼˜åŒ–ï¼ˆcomponentWillUnmountï¼‰**

ä½¿ç”¨åœºæ™¯ï¼šå­ç»„ä»¶ä¸­æœ‰ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨å­ç»„ä»¶é”€æ¯çš„æ—¶å€™ï¼Œå®šæ—¶å™¨ä¼šä¸€ç›´å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨å­ç»„ä»¶å°†è¦é”€æ¯çš„æ—¶å€™å®šæ—¶ä¹Ÿä¹Ÿéœ€è¦æ¸…ç©ºã€‚

**æ¡ˆä¾‹**

**å­ç»„ä»¶**

```
import { Component } from 'react'export default class Child extends Component {  constructor(){    super();    this.state={        time:new Date().toLocaleString()    }  }componentDidMount(){    this.dingshiqi=setInterval(()=>{        this.setState({time:            new Date().toLocaleString()        })    },1000);    console.log(this);}  componentWillUnmount(){    clearInterval(this.dingshiqi);    console.log("æˆ‘é”€æ¯");    console.log(this);  }    render() {     let {time}=this.state;    return (      <div>        <div>time:{time}</div>      </div>    )  }}
```

**çˆ¶ç»„ä»¶**

```
import  { Component } from 'react'import Child from './Child';export default class Page extends Component {    constructor(){        super();        this.state={            flag:true        }    }    chageFlag(){        this.setState({flag:false})    }  render() {    let {flag}=this.state;    return (      <div>        Page        <button onClick={()=>{this.chageFlag()}}>æŒ‰é’®</button>        {flag?<Child></Child>:null}    </div>    )  }}
```

**æ›´æ–°åˆ¤å®šä¼˜åŒ–ï¼ˆshouldComponentUpdateï¼‰**

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾çˆ¶ç»„ä»¶æœ‰å¾ˆå¤šå¾ˆå¤šæ•°æ®ï¼Œå­ç»„ä»¶åªä¾èµ–éƒ¨åˆ†æ•°æ®ï¼Œç°åœ¨æ•ˆæœå°±æ˜¯åªè¦å…¶çˆ¶ç»„ä»¶ä¸­çš„ä»»ä½•ä¸€ä¸ªæ•°æ®å‘ç”Ÿå˜åŒ–äº†éƒ½ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚æˆ‘ä»¬å¸Œæœ›åªæœ‰å½“å­ç»„ä»¶ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–äº†æ‰ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import { Component } from 'react'import Child from './Child';export default class Page extends Component {    constructor(){        super();        this.state={            username:"admin"        }    }    changeUsername(){        this.setState({username:"aaaaa"});    }  render() {    let {username}=this.state;    return (      <div>        Page        <button onClick={()=>this.changeUsername()}>æŒ‰é’®</button>        <p>{username}</p>            <Child username={username}></Child>        </div>    )  }}
```

**å­ç»„ä»¶**

```
import { Component } from 'react'export default class Child extends Component {    shouldComponentUpdate(newProps,newState){        console.log(newProps);        return false;    }  render() {    let {username}=this.props;    return (      <div>        Child        {username}    </div>    )  }}
```

**çº¯ç»„ä»¶ï¼ˆpureComponentï¼‰**

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾çˆ¶ç»„ä»¶æœ‰å¾ˆå¤šå¾ˆå¤šæ•°æ®ï¼Œå­ç»„ä»¶åªä¾èµ–äº†å…¶ä¸­çš„ä¸€ä¸ªï¼Œç°åœ¨æ•ˆæœå°±æ˜¯åªè¦å…¶çˆ¶ç»„ä»¶ä¸­çš„ä»»ä½•ä¸€ä¸ªæ•°æ®å‘ç”Ÿå˜åŒ–äº†éƒ½ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚æˆ‘ä»¬å¸Œæœ›åªæœ‰å½“å­ç»„ä»¶ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–äº†æ‰ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚

æ³¨ï¼šä»¥æµ…å±‚å¯¹æ¯” prop å’Œ state çš„æ–¹å¼æ¥å®ç°äº†shouldComponentUpdate()å‡½æ•°ï¼Œä¸»è¦é’ˆå¯¹ç±»ç»„ä»¶

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import  { Component } from 'react'import Child from './Child';export default class Page extends Component {    constructor(){        super();        this.state={            username:"admin",            pwd:123456        }    }    changPwd(){        this.setState({pwd:"123123"});    }    changUsername(){        this.setState({username:"aaaaaaa"});    }  render() {    let {username,pwd}=this.state;    return (      <div>        Page        <button onClick={()=>this.changPwd()}>æŒ‰é’®</button>        <button onClick={()=>this.changUsername()}>æŒ‰é’®2</button>        <p>{username},{pwd}</p>        <Child username={username}></Child>        </div>    )  }}
```

**å­ç»„ä»¶**

```
import React, { PureComponent } from 'react'export default class Child extends PureComponent {  render() {    let {username}=this.props;    console.log("æˆ‘æ˜¯å­ç»„ä»¶");    return (      <div>        Child        <p>{username}</p>      </div>    )  }}
```

**React.Memoæ–¹æ³•**

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾çˆ¶ç»„ä»¶æœ‰å¾ˆå¤šå¾ˆå¤šæ•°æ®ï¼Œå­ç»„ä»¶åªä¾èµ–äº†å…¶ä¸­çš„ä¸€ä¸ªï¼Œç°åœ¨æ•ˆæœå°±æ˜¯åªè¦å…¶çˆ¶ç»„ä»¶ä¸­çš„ä»»ä½•ä¸€ä¸ªæ•°æ®å‘ç”Ÿå˜åŒ–äº†éƒ½ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚æˆ‘ä»¬å¸Œæœ›åªæœ‰å½“å­ç»„ä»¶ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–äº†æ‰ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚

æ³¨ï¼šä»¥æµ…å±‚å¯¹æ¯” prop å’Œ state çš„æ–¹å¼æ¥å®ç°äº†shouldComponentUpdate()å‡½æ•°ï¼Œä¸»è¦é’ˆå¯¹å‡½æ•°ç»„ä»¶

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import  { Component } from 'react'import Child from './Child';export default class Page extends Component {    constructor(){        super();        this.state={            username:"admin",            pwd:123456        }    }    changPwd(){        this.setState({pwd:"123123"});    }    changUsername(){        this.setState({username:"aaaaaaa"});    }  render() {    let {username,pwd}=this.state;    return (      <div>        Page        <button onClick={()=>this.changPwd()}>æŒ‰é’®</button>        <button onClick={()=>this.changUsername()}>æŒ‰é’®2</button>        <p>{username},{pwd}</p>        <Child username={username}></Child>        </div>    )  }}
```

**å­ç»„ä»¶**

```
import React from 'react'function Child(props) {  let {username}=props;    console.log("æˆ‘æ˜¯å­ç»„ä»¶");    return (      <div>        Child        <p>{username}</p>      </div>    )}export default React.memo(Child);
```

**è¯­å¢ƒæ–¹æ³•context**

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾çˆ¶ç»„ä»¶æœ‰ä¸€äº›æ•°æ®ï¼Œå­ç»„ä»¶ä¸éœ€è¦ä½¿ç”¨ï¼Œä½†æ˜¯å­å­ç»„ä»¶éœ€è¦ä½¿ç”¨ï¼Œæˆ‘ä»¬ä¼ ç»Ÿçš„æ–¹å¼æ˜¯çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶å†ä¼ ç»™å­å­ç»„ä»¶ï¼Œå¦‚æœç»„ä»¶åµŒå¥—æ¯”è¾ƒå¤šçš„è¯å°±ä¸å¤ªåˆç†äº†ã€‚æˆ‘ä»¬å¯ä»¥å€ŸåŠ©React.context()æ¥è§£å†³ã€‚

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import { Component,createContext } from 'react'import Child from './Child';export const {Provider,Consumer} =createContext();//Provider ä¼ é€’æ•°æ®//Consumer æ¥æ”¶æ•°æ®export default class Page extends Component {    constructor(){        super();        this.state={            username:"admin"        }    }  render() {    let {username}=this.state    return (      <div>        Page        {username}        <Provider value={{username:username}}>           <Child></Child>         </Provider>      </div>    )  }}
```

å­ç»„ä»¶

```
import React, { Component } from 'react'import ChildChild from './ChildChild'export default class Child extends Component {  render() {    return (      <div>        Child        <ChildChild></ChildChild>        </div>    )  }}
```

å­å­ç»„ä»¶

```
import React, { Component } from 'react'import {Consumer} from "./Page";export default class ChildChild extends Component {  render() {    return (      <div>        ChildChild        <Consumer>            {(e)=>{                let {username}=e;                   return <div>                    <p>{JSON.stringify(e)}</p>                    <p>{username}</p>                </div>            }}        </Consumer>        </div>    )  }}
```

#### é”™è¯¯è¾¹ç•Œå¤„ç†å‡½æ•°ï¼ˆcomponentDidCatchï¼‰

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾çˆ¶ç»„ä»¶å†…æœ‰å¾ˆå¤šé¡µé¢ï¼Œä½†æ˜¯å…¶ä¸­ä¸€ä¸ªå­ç»„ä»¶çš„é”™è¯¯ä¼šå¼•èµ·æ•´å¥—é¡µé¢çš„å´©å¡Œï¼Œæˆ‘ä»¬å¸Œæœ›å½“å­ç»„ä»¶å‡ºç°é”™è¯¯çš„æ—¶å€™ä»…ä»…æ˜¯å­ç»„ä»¶è‡ªå·±ä¸æ¸²æŸ“ä¸ä¼šå½±å“åˆ°å…¶ä»–é¡µé¢çš„å†…å®¹ã€‚

componentDidCatchå‡½æ•°ï¼Œå½“é¡µé¢å‘ç”Ÿé”™è¯¯çš„æ—¶å€™è¢«è§¦å‘ã€‚

**æ¡ˆä¾‹**

çˆ¶ç»„ä»¶

```
import React, { Component } from 'react'import Child from './Child'export default class Page extends Component {    constructor(){        super();        this.state={            flag:true        }    }    componentDidCatch(){        console.log("æˆ‘æ‰“å°ä¸ï¼Ÿ");        this.setState({flag:false});    }  render() {    let {flag}=this.state;    return (      <div>        {flag?<Child></Child>:null}      </div>    )  }}
```

**å­ç»„ä»¶**

```
import React, { Component } from 'react'export default class Child extends Component {  render() {    // console.log(a);    // let a=30;    return (      <div>        Child    </div>    )  }}
```

#### é«˜é˜¶ç»„ä»¶

HOC(HigherÂ­order component)æ˜¯ä¸€ç§React çš„è¿›é˜¶ä½¿ç”¨æ–¹æ³•ï¼Œä¸»è¦è¿˜æ˜¯ä¸ºäº†ä¾¿äºç»„ä»¶çš„å¤ç”¨ï¼Œå¹¶éå®˜æ–¹æ–¹æ³•ã€‚HOCæœ¬èº«å¹¶ä¸æ˜¯ React API, å®ƒå°±æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ¥æ”¶ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¢å¼ºçš„ç»„ä»¶çš„æ–¹æ³•ã€‚

æ³¨ï¼šé«˜é˜¶ç»„ä»¶æœ‰ä¸”åªæœ‰ä¸€ä¸ªå‚æ•°ã€‚

**æ¡ˆä¾‹**

```
import  { Component } from 'react'import Child1 from './Child1';import Child2 from './Child2';import f from "./index";  let C1=f(Child1);  let C2=f(Child2);  export default class Page extends Component {    render() {      return (        <div>         <C1></C1>         <C2></C2>      </div>              )    }  }
```

**é«˜é˜¶ç»„ä»¶çš„æ¨¡å—åŒ–**

**index.js**

```
import { Component } from 'react'export default function f(C){    return class H extends Component{      constructor(){        super();        this.state={          str:`æˆ‘æ˜¯ä¸€ä¸ªå­ç»„ä»¶`        }      }        render(){          return (<div>            <C str={this.state.str}></C>          </div>)        }      }    }
```

### è¿‡æ¸¡åŠ¨ç”»

#### ä¸‹è½½

```
npm i react-transition-group
```

#### å¼•å…¥

```
import {CSSTransition,TransitionGroup} from "react-transition-group"
```

#### ä½¿ç”¨

**å…³é”®é…ç½®é¡¹**

```
unmountOnExit	å¿…å¡«ï¼Œé€€å‡ºæ—¶å®ç°å¸è½½è¯¥ç»„ä»¶in				å¿…å¡«ï¼Œè¯¥å…ƒç´ å—å“ªä¸ªçŠ¶æ€æ‰€å½±å“timeout			å¿…å¡«ï¼Œè¿‡æ¸¡åŠ¨ç”»çš„æŒç»­æ—¶é—´classNames		å¿…å¡«ï¼ŒæŒ‡è¿‡æ¸¡åŠ¨ç”»çš„ç±»åï¼ˆä¸¤ç»„å››ä¸ªï¼‰onEnter			å…ƒç´ è¿›å…¥å‰çš„å›è°ƒå‡½æ•°onEntering		å…ƒç´ è¿›å…¥ä¸­çš„å›è°ƒå‡½æ•°onEntered		å…ƒç´ è¿›å…¥åçš„å›è°ƒå‡½æ•°onExit			å…ƒç´ ç¦»å¼€å‰çš„å›è°ƒå‡½æ•°onExiting		å…ƒç´ ç¦»å¼€ä¸­çš„å›è°ƒå‡½æ•°onExited		å…ƒç´ ç¦»å¼€åçš„å›è°ƒå‡½æ•°
```

**æ¡ˆä¾‹**

**æ ·å¼æ–‡ä»¶**

```
/* è¿›å…¥ */.fade-enter{  opacity: 0;}.fade-enter-active{  opacity: 1;  transition: all 1s;}/* ç¦»å¼€ */.fade-exit{  opacity: 1;}.fade-exit-active{  opacity: 0;  transition: all 1s;}
```

**jsxæ–‡ä»¶**

**å•å…ƒç´ è¿‡æ¸¡åŠ¨ç”»**

```
        <button onClick={()=>this.setState({flag:!flag})}>{msg}</button>        <CSSTransition unmountOnExit in={flag} timeout={500} classNames="fade" onEntered={()=>this.setState({msg:"éšè—"})} onExited={()=>this.setState({msg:"æ˜¾ç¤º"})}>            <div className='boxDiv'></div>        </CSSTransition>
```

**åˆ—è¡¨è¿‡æ¸¡åŠ¨ç”»**

```
<ul>        <TransitionGroup>        {                arr.map((item,index)=>{                    return <CSSTransition unmountOnExit in={flag} timeout={1000} classNames="fade" key={index}>                        <li>                            <p>{item}</p>                            <button onClick={()=>this.delArr(index)}>åˆ é™¤</button>                        </li>                    </CSSTransition>                })            }        </TransitionGroup>            </ul>   
```

### è·¯ç”±

#### ä¸‹è½½

```
npm i react-router-dom@latest
```

æœ€æ–°ç‰ˆæœ¬ 6.4.0 2022.04

#### è·¯ç”±æ¨¡å¼

**æ³¨**ï¼šåœ¨reactä¸­ä½¿ç”¨è·¯ç”±çš„æ—¶å€™ï¼Œä¸€å®šè¦å…ˆè®¾ç½®è·¯ç”±æ¨¡å¼ï¼Œä¸ç„¶è·¯ç”±æ˜¯æ— æ•ˆçš„ã€‚

**å¼•å…¥**

index.js

```
import {BrowserRouter,HashRouter} from "react-router-dom"
```

BrowserRouter ä¸å¸¦#ï¼Œç›¸å½“äºvue-routerä¸­çš„historyè·¯ç”±æ¨¡å¼ HashRouter å¸¦#ï¼Œç›¸å½“äºvue-routerä¸­çš„hashè·¯ç”±æ¨¡å¼

**ç»‘å®šä½¿ç”¨ä½¿ç”¨**

index.js

```
root.render(  <BrowserRouter>    <App />  </BrowserRouter>);
```

#### è·¯ç”±å‡ºå£

**app.js**

```
import {Routes} from "react-router-dom"function App() {  return (    <div>      <Routes></Routes>    </div>  );}
```

#### è·¯ç”±è§„åˆ™å®šä¹‰

**è¯­æ³•**

```
<Routes><Route path="/è·¯ç”±" element={<ç»„ä»¶></ç»„ä»¶>}></Route></Routes>
```

app.js

```
import {Routes,Route} from "react-router-dom";import Page from "./components/01_reactç”Ÿå‘½å‘¨æœŸ/Page";function App() {  return (    <div>      <Routes>        {/* è·¯ç”±è§„åˆ™ */}		<Route path="/index" element={<Index></Index>}></Route>      </Routes>    </div>  );}
```

#### è·¯ç”±é‡å®šå‘

**è¯­æ³•**

```
import {Routes,Route,Navigate} from "react-router-dom"<Routes>	<Route path="*" element={<Navigate to="/è·¯ç”±"></Navigate>}></Route></Routes>
```

**åº”ç”¨**

**èµ„æºä¸å­˜åœ¨(404)å¤„ç†**

```
import {Routes,Route,Navigate} from "react-router-dom"<Routes> 	<Route path="/not" element={<Not></Not>}></Route>	<Route path="*" element={<Navigate to="/not"></Navigate>}></Route></Routes>
```

#### è·¯ç”±åµŒå¥—

**è¯­æ³•**

**ä¸€çº§è·¯ç”±**

```
<Routes>	<Route path="/è·¯ç”±/*" element={<Index></Index>}></Route></Routes>
```

**äºŒçº§è·¯ç”±**

```
 <Routes>        <Route path="home" element={<Home></Home>}></Route></Routes>        
```

**ä½¿ç”¨**

**app.jsx**

```
<Routes>	<Route path="/index/*" element={<Index></Index>}></Route></Routes>
```

**index.jsx**

```
import {Routes,Route,Navigate} from "react-router-dom"    <div>      <Routes>          <Routes>              <Route path='c1' element={<Child></Child>}></Route>              <Route path='c2' element={<Child1></Child1>}></Route>          </Routes>    </div>
```

#### è·¯ç”±å¯¼èˆª

**å¯¼èˆªç»„ä»¶**

**è¯­æ³•**

**Linkç»„ä»¶**

```
import {Link,NavLink} from "react-router-dom"<div>    <Link to="/è·¯ç”±">æ–‡å­—</Link>    <NavLink to="/è·¯ç”±" className={({isActive})=>isActive?'æ ·å¼':undefined}>æ–‡å­—</NavLink></div>
```

**NavLinkç»„ä»¶**

```
import {Link,NavLink} from "react-router-dom"<div>    <NavLink to="/è·¯ç”±" className={({isActive})=>isActive?'æ ·å¼':undefined}>æ–‡å­—</NavLink>    <NavLink to="/è·¯ç”±" style={({isActive})=>isActive?{background:"orange"}:undefined}>æ–‡å­—</NavLink></div>
```

**æ³¨ï¼š**Linkç»„ä»¶æ²¡æœ‰æä¾›classNameå’Œstyleï¼Œå¦‚æœæƒ³è¦å®ç°æ¿€æ´»é«˜äº®çš„è¯å°±éœ€è¦ä½¿ç”¨NavLinkç»„ä»¶ï¼ŒNavLinkç»„ä»¶é»˜è®¤ä¼šè°ƒç”¨activeæ ·å¼

**æ¡ˆä¾‹**

**æ ·å¼**

```
.footBox{  width: 100vw;  position: fixed;  left: 0;  bottom: 0;  display: flex;}.footBox .aaa{  color: white;  background-color: orange;}
```

**index.js**

```
import React, { Component } from 'react'import { Route, Routes, Link,NavLink} from 'react-router-dom'import Home from "./Home";import Fima from "./Fima";import Mine from "./Mine";import Msg from "./Msg";import "./index.css";export default class index extends Component {    render() {        return (<div>            <p><Link to="/index/home">é¦–é¡µ</Link></p>            <p><NavLink to="/index/fima" style={({isActive})=>isActive?{background:"green"}:null}>ç†è´¢</NavLink></p>            <p><NavLink to="/index/msg" className={({isActive})=>isActive?'aaa':null}>æ¶ˆæ¯</NavLink></p>            <p><NavLink to="/index/mine">æˆ‘çš„</NavLink></p>            <Routes>                <Route path='home' element={<Home></Home>}></Route>                <Route path='fima' element={<Fima></Fima>}></Route>                <Route path='mine' element={<Mine></Mine>}></Route>                <Route path='msg' element={<Msg></Msg>}></Route>            </Routes>        </div>        )    }}
```

**ç¼–ç¨‹å¼å¯¼èˆª**

**è¯­æ³•**

```
import {useNavigate} from "react-router-dom"const Navigate = useNavigate()Navigate("/è·¯ç”±");//è¿½åŠ ä¸€æ¡æ–°çš„å†å²è®°å½•Navigate("/è·¯ç”±",{replace:true})// ç”¨æ–°çš„å†å²è®°å½•æ›¿æ¢æ‰å½“å‰å†å²è®°å½•Navigate(num),æ ¹æ®æ­£è´Ÿæ•°ï¼Œå›é€€/å‰è¿›æŒ‡å®šå†å²è®°å½•
```

**æ¡ˆä¾‹**

```
import React from 'react';import {useNavigate} from "react-router-dom";export default function Home() {    let Navigate=useNavigate();  return (    <div>home        <button onClick={()=>Navigate(-2)}>æŒ‰é’®</button>    </div>  )}
```

#### è·¯ç”±å‚æ•°

**searchä¼ å‚**

**è¯­æ³•**

**ä¼ é€’**

```
<Link key={item.id} to={"/è·¯ç”±?é”®å=é”®å€¼&&é”®å=é”®å€¼}>
```

**æ¥æ”¶**

**æ–¹å¼ä¸€**

```
import {useLocation} from "react-router-dom"const {search} = useLocation()
```

**æ–¹å¼äºŒ**

```
import {useSearchParams} from "react-router-dom"const [searchParams,setSearchParams] = useSearchParams()
```

**æ¡ˆä¾‹**

```
import React from 'react'import { useLocation }from "react-router-dom";export default function Child() { let {search}=useLocation();console.log(new URLSearchParams(search).get("username"));  return (    <div>Child</div>  )}
```

**æ¡ˆä¾‹2**

```
import React from 'react'import {useSearchParams} from "react-router-dom";export default function Child() {  let [searchParams,setSearchParams]=useSearchParams();  console.log(searchParams.get("username"));  return (    <div>Child</div>  )}
```

**stateä¼ å‚**

**è¯­æ³•**

**ä¼ é€’**

```
<Link key={item.id} to="/è·¯ç”±" state={{é”®å:é”®å€¼}}>
```

**æ¥æ”¶**

```
import {useLocation} from 'react-router-dom'const {state} = useLocation()console.log(state);
```

**æ¡ˆä¾‹**

```
import React from 'react'import { useLocation }from "react-router-dom";export default function Child() {  let {state}=useLocation();  console.log(state.usera);  return (    <div>Child</div>  )}
```

**åŠ¨æ€è·¯ç”±ä¼ å‚**

**è¯­æ³•**

**è·¯ç”±è§„åˆ™**

```
<Route path="/è·¯ç”±/:å˜é‡å" element={<PlayingDetail></PlayingDetail>}></Route>
```

**ä¼ é€’**

```
<Link to={"/è·¯ç”±/"+å€¼>
```

**æ¥æ”¶**

```
import React from 'react'import { useParams }from "react-router-dom";export default function Child() {  let param=useParams();  console.log(param);  return (    <div>Child</div>  )}
```

#### è·¯ç”±æ‡’åŠ è½½

**è¯­æ³•**

**å¼•å…¥ æ–¹å¼æ‡’åŠ è½½**

```
const å˜é‡ = React.lazy(()=>import("å¼•å…¥è·¯å¾„"))
```

**React.Suspenseæ–¹å¼**

æ­¤æ–¹å¼éœ€è¦å°†è·¯ç”±å‡ºå£è¿›è¡ŒåŒ…è£¹

```
<React.Suspense fallback={<div>æ­£åœ¨åŠ è½½ä¸­ã€‚ã€‚ã€‚</div>}>	<Routes>		æ‰€æœ‰è·¯ç”±è§„åˆ™	</Routes></React.Suspense>
```

### è¿‡æ»¤å™¨

#### åˆ›å»ºè¿‡æ»¤å™¨

**filterPrice.js**

```
export default function å‡½æ•°å(){  	è¿‡æ»¤å™¨è¯­æ³•  return ;}
```

#### ä½¿ç”¨è¿‡æ»¤å™¨

```
<p>ä»·æ ¼ï¼š{è¿‡æ»¤å™¨å‡½æ•°å(ä¼ é€’å€¼)}</p>
```

**æ¡ˆä¾‹**

1ã€åˆ›å»ºè¿‡æ»¤å™¨å¹¶å¯¼å‡º

```
export default function dateFilter(date){    return new Date(date).toLocaleString().replaceAll("/","-");}
```

2ã€åœ¨éœ€è¦ä½¿ç”¨çš„ç»„ä»¶ä¸­

```
import dateFilter from "./filter";<p>å½“å‰æ—¶é—´ï¼š{dateFilter(dateTime)}</p>
```

### reactå…¬å…±ç»„ä»¶çš„ä½¿ç”¨

**back.jsx**

```
import React from 'react'import {useNavigate}from "react-router-dom";export default function back() {  let Navigate=useNavigate();  return (    <div>      <button onClick={()=>Navigate(-1)}>è¿”å›</button>    </div>  )}
```

**ç»„ä»¶**

```
import React, { Component } from 'react'import { Route,Routes } from 'react-router-dom';import Back  from "./Back";import ChildA from "./ChildA";import ChildB from "./ChildB";import ChildC from './ChildC';export default class Page extends Component {  state={    flag:false  }  changFlag(){    this.setState({flag:true})  }  render() {    let {flag}=this.state;    return (      <div>        {flag?<Back></Back>:null}        <Routes>        <Route path="a" element={<ChildA></ChildA>}></Route>        <Route path="b" element={<ChildB changeFlag={()=>this.changFlag()}></ChildB>}></Route>        <Route path="c" element={<ChildC changeFlag={()=>this.changFlag()}></ChildC>}></Route>        </Routes>        </div>    )  }}
```

### React UIåº“

#### antd

antd æ˜¯åŸºäº Ant Design è®¾è®¡ä½“ç³»çš„ React UI ç»„ä»¶åº“ã€‚

**ç‰¹ç‚¹**

* ğŸŒˆ æç‚¼è‡ªä¼ä¸šçº§ä¸­åå°äº§å“çš„äº¤äº’è¯­è¨€å’Œè§†è§‰é£æ ¼ã€‚
* ğŸ“¦ å¼€ç®±å³ç”¨çš„é«˜è´¨é‡ React ç»„ä»¶ã€‚
* ğŸ›¡ ä½¿ç”¨ TypeScript å¼€å‘ï¼Œæä¾›å®Œæ•´çš„ç±»å‹å®šä¹‰æ–‡ä»¶ã€‚
* âš™ï¸ å…¨é“¾è·¯å¼€å‘å’Œè®¾è®¡å·¥å…·ä½“ç³»ã€‚
* ğŸŒ æ•°åä¸ªå›½é™…åŒ–è¯­è¨€æ”¯æŒã€‚
* ğŸ¨ æ·±å…¥æ¯ä¸ªç»†èŠ‚çš„ä¸»é¢˜å®šåˆ¶èƒ½åŠ›ã€‚

**å®˜æ–¹**

```
https://ant.design/index-cn
```

**ä¸‹è½½**

**cdnæ–¹å¼**

```
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/antd/4.22.1/antd.css" /><script src="https://cdnjs.cloudflare.com/ajax/libs/antd/4.22.1/antd.js"></script>
```

**npmæ–¹å¼**

```
npm i antd
```

**å¼•å…¥æ–¹å¼**

**å…¨å±€å¼•å…¥**

**index.js**

```
import "antd/dist/antd.css"
```

**ç»„ä»¶ä½¿ç”¨**

```
import React, { Component } from 'react'import {Button} from "antd";import {CaretRightOutlined,AliwangwangOutlined} from "@ant-design/icons"; export default class Page extends Component {  render() {    return (      <div>        <Button type="primary" >æŒ‰é’®</Button>        <Button type="danger" >æŒ‰é’®</Button>        <Button type="danger"  ghost>æŒ‰é’®</Button>        <Button>æŒ‰é’®</Button>        <CaretRightOutlined style={{color:"blue"}} />        <AliwangwangOutlined style={{color:"pink"}}/>        <p>Page</p>        </div>    )  }}
```

**æŒ‰éœ€å¼•å…¥**

**ç»„ä»¶å†…**

```
import React, { Component } from 'react'import {Button} from "antd";import {CaretRightOutlined,AliwangwangOutlined} from "@ant-design/icons"; import "antd/es/button/style/index.css"export default class Page extends Component {  render() {    return (      <div>        <Button type="primary" >æŒ‰é’®</Button>        <Button type="danger" >æŒ‰é’®</Button>        <Button type="danger"  ghost>æŒ‰é’®</Button>        <Button>æŒ‰é’®</Button>        <CaretRightOutlined style={{color:"blue"}} />        <AliwangwangOutlined style={{color:"pink"}}/>        <p>Page</p>        </div>    )  }}
```

**babel-plugin-importæ’ä»¶æ–¹å¼å¼•å…¥ï¼ˆæ¨èï¼‰**

**ä¸‹è½½**

```
npm i babel-plugin-import
```

**ä½¿ç”¨**

1ã€åœ¨ src ä¸‹åˆ›å»º.babelrcæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```
{ "presets": [ "react-app" ], "plugins": [ 	["import", { "libraryName": "antd", "style": "css" }]  ] }
```

2ã€é€šè¿‡å‘½ä»¤æš´éœ² webpack.config.jsé…ç½®æ–‡ä»¶

```
npm run eject   y				// å¯èƒ½ä¼šæŠ¥é”™ï¼Œå› ä¸ºæœ¬åœ°ä»“åº“çš„ä»£ç å’Œä½ ç°åœ¨çš„ä»£ç ä¸æ˜¯åŒä¸€ä¸ªç‰ˆæœ¬git add .						// å°†å½“å‰æ–‡ä»¶å¤¹æ‰€æœ‰æ–‡ä»¶æ›´æ–°åˆ°æœ¬åœ°ä»“åº“git commit -m "123"				// ç»™æœ¬åœ°ä»“åº“çš„æ–‡ä»¶æ·»åŠ æè¿°ä¿¡æ¯npm run eject	y
```

3ã€ä¿®æ”¹config/webpack.config.js

```
ä¿®æ”¹babelrc:true
```

4ã€ä¿®æ”¹ package.json

```
åˆ é™¤"babel": {"presets": ["react-app"]}
```

5ã€é‡å¯é¡¹ç›®

```
npm start
```

6ã€ä½¿ç”¨å³å¯

```
import React, { Component } from 'react'import {Button} from "antd";import {CaretRightOutlined,AliwangwangOutlined} from "@ant-design/icons"; export default class Page extends Component {  render() {    return (      <div>        <Button type="primary" >æŒ‰é’®</Button>        <Button type="danger" >æŒ‰é’®</Button>        <Button type="danger"  ghost>æŒ‰é’®</Button>        <Button>æŒ‰é’®</Button>        <CaretRightOutlined style={{color:"blue"}} />        <AliwangwangOutlined style={{color:"pink"}}/>        <p>Page</p>        </div>    )  }}
```

### æ•°æ®äº¤äº’

#### é…ç½®ä»£ç†

**æ–¹å¼ä¸€**

**é…ç½®package.jsonä»£ç†**

1ã€package.jsonæ·»åŠ é”®å€¼å¯¹

```
 "proxy": "http://localhost:3000"
```

2ã€é‡å¯é¡¹ç›®

```
npm start
```

3ã€ä½¿ç”¨

```
import axios from "axios";let { data } = await axios.get("/api/getbanner")
```

**æ–¹å¼äºŒ**

**æ’ä»¶åº“æ–¹å¼**

1ã€å®‰è£…ä¾èµ–

```
npm i http-proxy-middleware
```

2ã€åˆ›å»ºsetupProxy.jsæ–‡ä»¶

åœ¨srcä¸‹åˆ›å»ºã€setupProxy.jsã€‘æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```
const proxy = require("http-proxy-middleware")module.exports = (app)=>{  app.use("/api",proxy.createProxyMiddleware({    target:"http://localhost:3000",    changeOrigin:true,    pathRewrite:{      "^/api":"http://localhost:3000"    }  }))}
```

3ã€ä½¿ç”¨

```
let {data}=await axios.get("/aaa/api/getbanner");// æ³¨æ„ï¼šå¦‚æœä½¿ç”¨è¿™ç§æ–¹å¼é…ç½®ä»£ç†çš„è¯ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹è¯·æ±‚åœ°å€å‰é¢éœ€è¦åŠ ä¸Š/aaaï¼Œç”Ÿäº§ç¯å¢ƒå°±ä¸éœ€è¦åŠ /aaaäº†.
```

#### axiosä½¿ç”¨

**getæ–¹å¼**

```
let {data}=await axios.get("/aaa/api/getbanner");
```

**postæ–¹å¼**

```
let {data:dd}=await axios.post("/aaa/api/login",{phone:"12312311231",password:123123});
```

**å°è£…çš„ä½¿ç”¨**

http.js

```
import axios from "axios";export let baseURL="";if(process.env.NODE_ENV==="development"){    baseURL="http://localhost:3000";}//è¯·æ±‚æ‹¦æˆªå™¨axios.interceptors.request.use(req=>req);//å“åº”æ‹¦æˆªå™¨axios.interceptors.response.use(res=>res);export const getDatabyAxios=(url,{params,data},method="get")=>axios({    url,    method,    params,    data,    timeout:3000,    headers:{    }});
```

api.js

```
import {getDatabyAxios} from "./http";export const getBanner=()=>getDatabyAxios("/aaa/api/getbanner",{params:undefined});
```

## ReactåŸºç¡€

### ç®€ä»‹

Reactç”± Facebook çš„è½¯ä»¶å·¥ç¨‹å¸ˆ Jordan Walke åˆ›å»ºï¼Œä»–å‘å¸ƒäº†ä¸€ä¸ªåä¸ºâ€œFaxJSâ€çš„ React æ—©æœŸåŸå‹ã€‚ç”¨æ¥æ¶è®¾ Instagram çš„ç½‘ç«™ã€‚2013 å¹´ 5 æœˆåœ¨ JSConf US å®£å¸ƒå¼€æ”¾æºä»£ç ã€‚

#### åŸºç¡€æ¦‚å¿µ

Reactæ˜¯ä¸€ä¸ªå£°æ˜å¼ï¼Œé«˜æ•ˆä¸”çµæ´»çš„ç”¨äºæ„å»º Webåº”ç”¨äº¤äº’ç•Œé¢çš„ JavaScript åº“ã€‚

Reacté‡‡ç”¨ç»„å°†æ¨¡å¼æ„å»ºå¤æ‚çš„UIç•Œé¢ã€‚

Reactä½¿ç”¨ Facebookè‡ªä¸»ç ”å‘çš„ä¸€å¥—è¯­æ³•ç³–--JSXã€‚

Reactå¯ç”¨ä½œå¼€å‘å…·æœ‰ Next.js ç­‰æ¡†æ¶çš„å•é¡µã€æ‰‹æœºæˆ–æœåŠ¡å™¨æ¸²æŸ“åº”ç”¨ç¨‹åºçš„åŸºç¡€ã€‚

Reactåªä¸“æ³¨çŠ¶æ€ç®¡ç†å’Œå°†çŠ¶æ€æ¸²æŸ“åˆ° DOMï¼Œå› æ­¤åˆ›å»º React åº”ç”¨ç¨‹åºé€šå¸¸éœ€è¦ä½¿ç”¨é¢å¤–çš„å·¥å…·åº“æ¥è¿›è¡Œè·¯ç”±å®ç°ï¼Œä»¥åŠæŸäº›å®¢æˆ·ç«¯åŠŸèƒ½ã€‚

Reactäº 2015 å¹´ 2 æœˆå‘å¸ƒReact Nativeï¼Œæ”¯æŒä½¿ç”¨ React è¿›è¡ŒåŸç”Ÿ Androidã€iOS å’Œ UWP å¼€å‘ã€‚

#### å®˜ç½‘

```
https://zh-hans.reactjs.org/
```

#### è¿‘æœŸç‰ˆæœ¬å†å²

2022.3.29 18.0.0

2020.10.20 17.0.0

2017.9.26 16.0.0

#### æœ€æ–°ç‰ˆæœ¬

18.2.0

#### ä¼˜ç¼ºç‚¹

**ä¼˜ç‚¹**

**1.å£°æ˜å¼è®¾è®¡** âˆ’Reacté‡‡ç”¨å£°æ˜èŒƒå¼ï¼Œå¯ä»¥è½»æ¾æè¿°åº”ç”¨ã€‚

**2.é«˜æ•ˆ** âˆ’Reacté€šè¿‡å¯¹DOMçš„æ¨¡æ‹Ÿï¼Œæœ€å¤§é™åº¦åœ°å‡å°‘ä¸DOMçš„äº¤äº’ã€‚

**3.çµæ´»** âˆ’Reactå¯ä»¥ä¸å·²çŸ¥çš„åº“æˆ–æ¡†æ¶å¾ˆå¥½åœ°é…åˆï¼Œå…¼å®¹æ€§å¾ˆå¥½ã€‚

**4.JSX** âˆ’ JSX ï¼ˆJavascript xmlï¼‰æ˜¯ JavaScript è¯­æ³•çš„æ‰©å±•ã€‚React ä¸“å±è¯­æ³• ï¼Œå»ºè®®ä½¿ç”¨ã€‚

**5.ç»„ä»¶** âˆ’ é€šè¿‡ React æ„å»ºç»„ä»¶ï¼Œä¸€åˆ‡çš†ç»„ä»¶ï¼Œä»£ç ç»„ä»¶åŒ–æ›´ç®€å•ã€‚

**6.å•å‘å“åº”çš„æ•°æ®æµ** âˆ’ React å®ç°äº†å•å‘å“åº”çš„æ•°æ®æµï¼Œæœ‰æ•ˆå‡å°‘é‡å¤ç‡ã€‚

**ç¼ºç‚¹**

React å¹¶ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ¡†æ¶ï¼Œå› æ­¤ä¸é€‚åˆåšä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®æ„å»ºï¼Œå®ƒåªå®ç°äº† MVC æ¨¡å¼ä¸­çš„ V(View)å±‚ã€‚å¦‚æœæ„å»ºå¤§å‹é¡¹ç›®éœ€è¦ä¸€å¥—å®Œæ•´çš„æ¡†æ¶ï¼ŒåŸºæœ¬éƒ½éœ€è¦åŠ ä¸Š ReactRouter å’Œ Flux æ‰èƒ½å†™å¤§å‹åº”ç”¨ã€‚

### å®‰è£…

#### CDNæ–¹å¼

```
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script><script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
```

#### è„šæ‰‹æ¶æ–¹å¼

**reactè„šæ‰‹æ¶å®‰è£…**

```
npm i create-react-app [-g]
```

**åˆ›å»ºé¡¹ç›®**

```
npx create-react-app é¡¹ç›®ånpm init react-app   é¡¹ç›®å 
```

é€‰æ‹©æ¨¡æ¿åˆ›å»º

```
--template [template-name]
```

**è„šæ‰‹æ¶ç›®å½•**

```
-demo    -node_modules           // ä¾èµ–åŒ…    -public                 // æ‰“åŒ…ä¹‹åpublicæ–‡ä»¶å¤¹ä¸ä¼šè¿›è¡Œå‹ç¼©        favicon.ico         // åçˆ±å›¾æ ‡        index.html          // å•é¡µé¢åº”ç”¨çš„htmlæ–‡ä»¶,ä¸»é¡µé¢        logo192.png         // logoå›¾        logo512.png         // logoå›¾        manifest.json       // åº”ç”¨åŠ å£³çš„é…ç½®æ–‡ä»¶        robots.txt          // çˆ¬è™«åè®®æ–‡ä»¶    -src        App.css             // Appç»„ä»¶çš„æ ·å¼        App.js              // Appç»„ä»¶        App.test.js         // Appæµ‹è¯•æ–‡ä»¶        index.css           // å…¥å£æ ·å¼        index.js            // å…¥å£æ–‡ä»¶        logo.svg            // logoå›¾        reportWebVitals.js  // é¡µé¢æ€§èƒ½åˆ†ææ–‡ä»¶ï¼ˆéœ€è¦web-vitalsåº“çš„æ”¯æŒï¼‰        setupTests.js       //  ç»„ä»¶å•å…ƒæµ‹è¯•çš„æ–‡ä»¶ï¼ˆéœ€è¦jest-domåº“çš„æ”¯æŒï¼‰    .gitgnore               // å¿½ç•¥æ–‡ä»¶ï¼Œä¸éœ€è¦ä¸Šä¼ åˆ°gitçš„æ–‡ä»¶    package-lock.json       // é”å®šé¡¹ç›®çš„ä¾èµ–åŒ…åŠç‰ˆæœ¬å·    package.json            // é¡¹ç›®ä¿¡æ¯    READMO.md               // è¯´æ˜æ–‡ä»¶
```

**æ¸…ç©ºæ–‡ä»¶**

åªç•™ä¸‹index.htmlã€App.jså’Œindex.js

å»æ‰index.htmlä¸­çš„å¼•å…¥

```
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
```

**ä¿®æ”¹è„šæ‰‹æ¶é¡¹ç›®ç«¯å£å·**

**package.json**

```
{  "scripts": {    "start": "set port=5000 && react-scripts start"  }}
```

### JSXè¯­æ³•

#### æ³¨é‡Šè¯­æ³•

å¿«æ·é”® ctrl+/

```
{/* æ³¨é‡Šå†…å®¹ */}
```

#### è¾“å‡ºè¡¨è¾¾å¼

**åŸºæœ¬è¯­æ³•**

```
{å˜é‡/å¯¹è±¡å±æ€§/å‡½æ•°è°ƒç”¨}
```

æ³¨ï¼šå¦‚æœå¤åˆæ•°æ®ç±»å‹ï¼Œå¤šå±‚çº§æ•°æ®ä¼šæŠ¥é”™ï¼Œéœ€è¦ç»“åˆJSON.stringfy()

**æ¡ˆä¾‹**

```
function App() {  let a=30;  const user={username:"admin"};  function f(){  	return 'æˆ‘æ˜¯å‡½æ•°';}  return (    <div>      {/* æ•°æ®ç»‘å®š */}        <p>å¹´é¾„{a}</p>        <p>{f()}</p>        <p>{user.username}</p>        <p>{JSON.stringify(user)}</p>    </div>  );}
```

**æ ‡ç­¾å±æ€§è¯­æ³•**

```
<æ ‡ç­¾ å±æ€§å={å˜é‡}></æ ‡ç­¾>
```

**æ¡ˆä¾‹**

```
function App() {  let a=30;  let imgSrc=`https://t7.baidu.com/it/u=1595072465,3644073269&fm=193&f=GIF`;  return (    <div>      {/* å±æ€§ç»‘å®š */}      <img src={imgSrc} aa={a}></img>    </div>  );}
```

**ä¸‰ç›®è¡¨è¾¾å¼è¯­æ³•**

```
{ä¸‰ç›®è¡¨è¾¾å¼}
```

**æ¡ˆä¾‹**

```
function App() {  let a=30;  return (    <div>      {/* æ¡ä»¶æ¸²æŸ“ */}        <p>å¹´é¾„{a>18?'å·²æˆå¹´':'æœªæˆå¹´'}</p>    </div>  );}
```

**åˆ—è¡¨è¯­æ³•**

```
{	å¯éå†å¼•ç”¨.map(()=>{return <æ ‡ç­¾ key={}>å…ƒç´ </æ ‡ç­¾>})}
```

**æ¡ˆä¾‹**

```
function App() {  const arr=[1,2,34,5,6,7,8];  return (    <div>      <ul>        {              arr.map((item,index)=>{          return <p key={index}>æ•°ç»„å…ƒç´ :{item},{index}</p>        })}      </ul>    </div>  );}
```

**æ ‡ç­¾çš„ç±»æ ·å¼**

```
<æ ‡ç­¾ className="ç±»å"></æ ‡ç­¾>
```

**æ¡ˆä¾‹**

```
function App() {    function f1(){      let user={username:"admin",pwd:123456}      return Object.values(user);	}  return (    <div>       {f1().map(((item,index)=>{          return <p key={index} className='a'>{item}</p>        }))}    </div>  );}
```

**æ ‡ç­¾çš„è¡Œå†…æ ·å¼**

```
<æ ‡ç­¾ style={{è¡Œå†…æ ·å¼}}></æ ‡ç­¾>
```

**æ¡ˆä¾‹**

```
function App() {  return (    <div>   		<p style={{color:"red"}}>æˆ‘è¦æµ‹è¯•è¡Œå†…æ ·å¼</p>    </div>  );}
```

#### jsxè§„åˆ™

```
1ã€åœ¨JSXè¯­æ³•ä¸­ï¼Œå½“é‡åˆ°äº†<>å°±ä¼šæŒ‰ç…§htmlè¯­æ³•æ¥è§£æï¼Œå½“é‡åˆ°äº†{}å°±ä¼šæŒ‰ç…§jsè¯­æ³•æ¥è§£æã€‚2ã€returnçš„æœ€å¤–å±‚åªèƒ½æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾ã€‚3ã€JSXæ ‡ç­¾å¯ä»¥ç›¸äº’è¿›è¡ŒåµŒå¥—ï¼Œæ³¨æ„ä»£ç çš„ç¼©è¿›å’Œæ¢è¡Œï¼Œå¢å¼ºä»£ç çš„å¯è¯»æ€§ã€‚4ã€é€šè¿‡JSXè¯­æ³•å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸­ä¹Ÿæœ‰è™šæ‹ŸDOMã€‚
```

**vscodeè‡ªåŠ¨jsxè¡¥å…¨**

```
ç‚¹å‡»å·¦ä¸‹è§’â€”â€”>è®¾ç½®â€”â€”>æœç´¢emmetâ€”â€”>ç‚¹å‡»åœ¨settings.jsonä¸­ç¼–è¾‘â€”â€”>æ·»åŠ å¦‚ä¸‹ä»£ç "emmet.includeLanguages": {    "javascript": "javascriptreact"}
```

### äº‹ä»¶

#### äº‹ä»¶çš„ç»‘å®š

**è¯­æ³•**

**ç®­å¤´å‡½æ•°æ–¹å¼**

```
<button onäº‹ä»¶å={()=>this.fn1()}></button>
```

**bindæ–¹å¼**

```
<button onäº‹ä»¶å={this.fn1.bind()}></button>
```

**æ¡ˆä¾‹**

```
function f(){  console.log("æˆ‘è¢«ç‚¹å‡»äº†");}      {/* ç®­å¤´å‡½æ•°æ–¹å¼ */}      <button onClick={()=>f()}>æŒ‰é’®</button>      {/* bindæ–¹å¼ */}      <button onClick={f.bind()}>æŒ‰é’®2</button>
```

#### äº‹ä»¶ä¼ å‚

**è¯­æ³•**

**ç®­å¤´å‡½æ•°æ–¹å¼**

```
<button onäº‹ä»¶å={()=>this.fn1(...å‚æ•°)}></button>
```

**bindæ–¹å¼**

```
<button onäº‹ä»¶å={this.fn1.bind(event,...å‚æ•°)}></button>
```

**æ¡ˆä¾‹**

```
function ff(a){  console.log(a);}      <button onClick={()=>ff('admin')}>æŒ‰é’®3</button>      <button onClick={ff.bind(Event,"adddd")}>æŒ‰é’®4</button>
```

#### äº‹ä»¶å¯¹è±¡

**è¯­æ³•**

**ç®­å¤´å‡½æ•°æ–¹å¼**

```
<button onäº‹ä»¶å={(event)=>this.fn1([...å‚æ•°,]event[,...å‚æ•°])}></button>
```

**bindæ–¹å¼**

```
<button onäº‹ä»¶å={this.fn1.bind(event,...å‚æ•°)}></button>
```

**æ¡ˆä¾‹**

```
function fff(a,event){  console.log(a);  console.log(event);}      <button onClick={()=>fff("aaaaa",Event)}>æŒ‰é’®5</button>      <button onClick={fff.bind(Event,"adddd")}>æŒ‰é’®6</button>
```

#### äº‹ä»¶åº”ç”¨

**é˜»æ­¢é»˜è®¤è¡Œä¸º**

```
function ffff(event){  event.preventDefault();  console.log("æˆ‘è¢«ç‚¹å‡»");}<div className="dBox" onContextMenu={(event)=>ffff(event)}>æˆ‘æ˜¯ç‚¹å‡»</div>
```

**é˜»æ­¢äº‹ä»¶ä¼ æ’­**

```
function f1(){  console.log("æˆ‘è¢«ç‚¹å‡»1");}function f2(event){  event.stopPropagation();  console.log("æˆ‘è¢«ç‚¹å‡»2");}      <div className="dBoxb" onClick={()=>f1()}>        <div className="dBox" onClick={(event)=>f2(event)}></div>      </div>
```

#### äº‹ä»¶æ•è·

**è¯­æ³•**

```
onäº‹ä»¶åç§°Capture={}
```

**æ¡ˆä¾‹**

```
function f1(){  console.log("æˆ‘è¢«ç‚¹å‡»1");}function f2(event){  console.log("æˆ‘è¢«ç‚¹å‡»2");}      <div className="dBoxb" onClickCapture={()=>f1()}>        <div className="dBox" onClickCapture={()=>f2()}></div>      </div>
```

### çŠ¶æ€æœºï¼ˆstateï¼‰

#### çŠ¶æ€æœºå®šä¹‰

çŠ¶æ€æœºå®šä¹‰åœ¨ç±»ä¸­

**æ„é€ æ–¹æ³•å®šä¹‰**

```
  constructor(){    super()    this.state = {}  }
```

**å˜é‡å®šä¹‰**

```
state = {}
```

**æ¡ˆä¾‹**

```
import {Component}from "react";class page extends Component{    //stateçš„å®šä¹‰æœ‰ä¸¤ç§æ–¹å¼    //ç›´æ¥å®šä¹‰    // state={    //     username:"admin",    //     pwd:123456    // }    //åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰çŠ¶æ€æœº    constructor(){        super();        this.state={//å…ˆå£°æ˜ï¼Œåœ¨å¸®ç»™å½“å‰ç±»            username:"admin",            user:{u1:"aaa"},            arr:[1,2,4,5,6,8,9]        }    }    render(){        let {username,user,arr}=this.state;        return(            <div>                {this.state.username}                {this.state.pwd}                {                    arr.map(item=>{                        return <p>{item}</p>                    })                }            </div>          )      }}export default page;    
```

#### çŠ¶æ€æœºä½¿ç”¨

**ä¿®æ”¹çŠ¶æ€æœºè¯­æ³•**

```
setState({}[,()=>{}])
```

å‚æ•°1ï¼Œéœ€è¦ä¿®æ”¹é”®åå’Œå€¼

å‚æ•°2ï¼šå›è°ƒå‡½æ•°ï¼Œç”±äºsetStateæ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥å‚æ•°äºŒç›¸å½“äºthenæ–¹æ³•ã€‚

æ³¨æ„äº‹é¡¹

1ã€å¦‚æœå®šä¹‰çš„æ•°æ®ä¸åœ¨stateä¸­ï¼Œåˆ™æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œä¸ä¼šé©±åŠ¨é¡µé¢é‡æ–°æ¸²æŸ“ã€‚

2ã€åªèƒ½ä½¿ç”¨setState()æ¥ä¿®æ”¹çŠ¶æ€æœºçš„å€¼ã€‚setStateæ˜¯å¼‚æ­¥çš„

3ã€ä¸€å®šä¸è¦åœ¨renderä¸­è°ƒç”¨setState()ï¼Œå› ä¸ºsetState()ä¼šå¼•èµ·é¡µé¢çš„é‡æ–°æ¸²æŸ“ï¼Œå¦‚æœåœ¨renderä¸­è°ƒç”¨ä¼šé™·å…¥æ­»å¾ªç¯ã€‚

4ã€åœ¨å¼€å‘æ¨¡å¼ä¸‹ \<React.StrictMode>ä¼šè¢«æ‰§è¡Œï¼Œå¯¼è‡´renderå‡½æ•°æ‰§è¡Œä¸¤ä¾¿å»æ‰å°±å¥½ã€‚

5ã€stateä¸­æ•°æ®æ”¯æŒè§£æ„èµ‹å€¼ã€‚

6ã€stateä¸­æ“ä½œæ•°ç»„/å¯¹è±¡ï¼Œéœ€è¦å…ˆå–æ•°ç»„/å¯¹è±¡ï¼Œä¿®æ”¹æ•°ç»„/å¯¹è±¡ï¼Œå†å­˜æ”¾å›å»

**æ¡ˆä¾‹**

çŠ¶æ€æœºçš„å®šä¹‰ä¿®æ”¹æ¡ˆä¾‹

```
import {Component}from "react";class page extends Component{    constructor(){        super();        this.state={//å…ˆå£°æ˜ï¼Œåœ¨å¸®ç»™å½“å‰ç±»            username:"admin"        }    }    changeUserName(){       //this.setState({username:"admin1",pwd:123123});       //this.a=60;    }    a=30;    render(){        let {username,user,arr}=this.state;        return(            <div>                æˆ‘æ˜¯å­ç»„ä»¶                <button onClick={()=>this.changeUserName()}>æŒ‰é’®</button>                {this.state.username}                {this.state.pwd}                <p>{username}</p>            </div>          )      }}export default page;    
```

æ“ä½œæ•°ç»„

```
import {Component}from "react";class page extends Component{    constructor(){        super();        this.state={            arr:[1,2,4,5,6,8,9]        }    }    changeUserName(){       //this.setState({arr:[1,2,100,5,6,8,9]})       this.state.arr.splice(2,1,100)       this.setState({arr:this.state.arr})    }    render(){        let {arr}=this.state;        return(            <div>                æˆ‘æ˜¯ç»„ä»¶                <button onClick={()=>this.changeUserName()}>æŒ‰é’®</button>                {                    arr.map(item=>{                        return <p>{item}</p>                    })                }            </div>          )      }}export default page;
```

æ“ä½œå¯¹è±¡

```
import {Component}from "react";class page extends Component{    constructor(){        super();        this.state={            user:{u1:"aaa"}        }    }    changeUserName(){       this.setState({user:{u1:"bbbb"}})    }    render(){        let {user}=this.state;        return(            <div>                æˆ‘æ˜¯ç»„ä»¶                <button onClick={()=>this.changeUserName()}>æŒ‰é’®</button>                <p>{user.u1}</p>            </div>          )      }}export default page;
```

### formè¡¨å•

#### è¡¨å•æ§ä»¶åˆ†ç±»

**å—æ§è¡¨å•**

é€šè¿‡è¡¨å•æ§ä»¶çš„valueå±æ€§ï¼Œç»™è¡¨å•æ§ä»¶èµ‹äºˆä»“åº“çš„é»˜è®¤å€¼ï¼Œè¿™ç§è¡¨å•æ§ä»¶ç§°ä¸ºå—æ§è¡¨å•æ§ä»¶ã€‚

**ç‰¹ç‚¹**

å°±åœ°åé¦ˆï¼Œå¦‚ï¼šéªŒè¯ ç¦ç”¨æŒ‰é’®ï¼Œå¦‚ï¼šæäº¤ æ‰§è¡Œç‰¹å®šçš„è¾“å…¥æ ¼å¼ï¼Œå¦‚ï¼šæ‰‹æœºå·ã€èº«ä»½è¯å·ã€é“¶è¡Œå¡å·

**éå—æ§è¡¨å•**

æ²¡æœ‰é€šè¿‡è¡¨å•æ§ä»¶çš„valueå±æ€§ï¼Œç»™è¡¨å•æ§ä»¶èµ‹äºˆä»“åº“çš„é»˜è®¤å€¼ï¼Œè¿™ç§è¡¨å•æ§ä»¶ç§°ä¸ºéå—æ§è¡¨å•æ§ä»¶ã€‚

\####

**æ¡ˆä¾‹**

```
    state={        username:"admin"    }    changeText(event){        this.setState({username:"aaaaa"})    }    
```

#### å—æ§è¡¨å•å’Œéå—æ§è¡¨å•å¯¹æ¯”

#### ç»¼åˆæ¡ˆä¾‹

è¾“å…¥æ¡†ï¼Œå¯†ç æ¡†ï¼Œå•é€‰æ¡†ï¼Œä¸‹æ‹‰æ¡†ï¼Œå¤šé€‰æ¡†ï¼Œæ–‡æœ¬æ¡†ï¼Œæ˜¯å¦åŒæ„åè®®ã€‚

å§“åï¼Œå¯†ç ï¼Œæ€§åˆ«ï¼ŒèŒä¸šï¼Œçˆ±å¥½ï¼Œè‡ªæˆ‘ä»‹ç»ï¼Œ

```
import {Component}from "react";class Page extends Component{    state={        username:"admin"    }    changeText(event){        // this.setState({username:"aaaaa"})        // console.log(event.target.value);        //console.log(event.target.value);        //å•é€‰æ¡†event.target.checked/event.target.value       // console.log(event.target.value);       //å¤é€‰æ¡†event.target.checked/event.target.value       //ä¸‹æ‹‰æ¡†event.target.value       //æ–‡æœ¬æ¡†event.target.value       console.log(event.target.value);    }    render(){        return(            <div>                ç”¨æˆ·å<input type="text" value={this.state.username} onChange={(event)=>this.changeText(event)}/><br></br>                å¯†&emsp;ç <input type="password" onChange={(event)=>this.changeText(event)}/><br></br>                æ€§&emsp;åˆ«                <input type="radio" name="sex" id="" onChange={(event)=>this.changeText(event)}/>ç”·                <input type="radio" name="sex" id="" />å¥³<br></br>                çˆ±&emsp;å¥½                <input type="checkbox" name="" id=""  onChange={(event)=>this.changeText(event)}/>è¯»                <input type="checkbox" name="" id="" />å†™                <input type="checkbox" name="" id="" />èƒŒ<br></br>                åŸ&emsp;å¸‚                <select name="" id="" onChange={(event)=>this.changeText(event)}>                    <option value="0">å¹¿ä¸œçœ</option>                    <option value="1">æ²³å—çœ</option>                    <option value="2">æ¹–å—çœ</option>                    <option value="3">æ¹–åŒ—çœ</option>                    <option value="4">å°æ¹¾çœ</option>                </select><br></br>                ç®€ä»‹                <textarea name="" id="" cols="30" rows="10"  onChange={(event)=>this.changeText(event)}></textarea>                            </div>        )              }}export default Page
```

### ç»„ä»¶

ç»„ä»¶åˆ†ä¸ºä¸¤ç§å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶ã€‚

#### ç»„ä»¶å®šä¹‰

å»ºè®®å°†ç»„ä»¶å®šä¹‰åˆ°componentsæ–‡ä»¶å¤¹ä¸­ã€‚

**å‡½æ•°ç»„ä»¶**

**è¯­æ³•**

```
function å‡½æ•°å(){  return <div>å†…å®¹</div>}export default å‡½æ•°å
```

**æ¡ˆä¾‹**

```
function child1(){    return <div>        <p>æˆ‘æ˜¯å‡½æ•°ç»„ä»¶</p>        æˆ‘æ˜¯å‡½æ•°ç»„ä»¶    </div>    // return (    //     <div>    //     </div>        // )}export default child1;
```

**ç±»ç»„ä»¶**

**è¯­æ³•**

```
import React,{Component} from "react"class ç±»å extends Component {  render(){    return <div>å†…å®¹</div>  }}export default ç±»å
```

**æ¡ˆä¾‹**

```
import { Component } from 'react';class Child2 extends Component {    render() {        return <div>            æˆ‘æ˜¯ç±»ç»„ä»¶            </div>    }}export default Child2;
```

**å®šä¹‰çš„æ³¨æ„äº‹é¡¹**

1ã€ç»„ä»¶åé¦–å­—æ¯å¿…é¡»å¤§å†™ã€‚ 2ã€ç»„ä»¶æœ€å¤–å±‚åªèƒ½æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾ã€‚

#### ç»„ä»¶çš„ä½¿ç”¨

```
<ç»„ä»¶å></ç»„ä»¶å>
```

**ä½¿ç”¨æ³¨æ„äº‹é¡¹**

1ã€ä½¿ç”¨ä¹‹å‰ç›´æ¥è¿›è¡Œå¼•å…¥ã€‚ 2ã€ç»„ä»¶åŒºåˆ†å¤§å†™ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚

**ä¸¤ç§ç»„ä»¶çš„åŒºåˆ«**

1ã€å­ç»„ä»¶æ¥æ”¶çˆ¶ç»„ä»¶çš„ä¼ å€¼æ–¹å¼ä¸ä¸€æ ·ï¼Œå‡½æ•°å®šä¹‰ä½¿ç”¨propsæ¥æ”¶ï¼Œç±»å®šä¹‰ä½¿ç”¨this.propsæ¥æ”¶ã€‚ 2ã€å‡½æ•°å®šä¹‰æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œç±»å®šä¹‰æœ‰ç”Ÿå‘½å‘¨æœŸã€‚ 3ã€ç±»å®šä¹‰æœ‰çŠ¶æ€æœºstateï¼Œå‡½æ•°å®šä¹‰æ²¡æœ‰çŠ¶æ€æœºstateã€‚

4ã€åœ¨ç±»å®šä¹‰ä¸­é»˜è®¤è¿˜è¦åˆå§‹åŒ–ä¸€ä¸‹ï¼Œè€Œå‡½æ•°å®šä¹‰ä¸éœ€è¦åˆå§‹åŒ–ã€‚å°±åŠ è½½é€Ÿç‡æ¥è¯´ï¼Œå‡½æ•°å®šä¹‰çš„è¦æ¯”ç±»å®šä¹‰å¿«ä¸€ç‚¹ã€‚

5ã€æ–°ç‰ˆæœ¬ä¸­ä½¿ç”¨å‡½æ•°é€Ÿåº¦ä¼šå¿«ä¸€äº›ï¼Œæ—§ç‰ˆæœ¬æ¨èä½¿ç”¨ç±»

#### ç»„ä»¶çš„é€šä¿¡

**props**

**çˆ¶å­ç»„ä»¶ä¼ å€¼**

**çˆ¶ç»„ä»¶**

**è¯­æ³•**

```
<ç»„ä»¶å é”®å={é”®å€¼} ></ç»„ä»¶å>
```

**å­ç»„ä»¶**

**è¯­æ³•**

```
this.props
```

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import {Component}from "react";import Child from "./Child";class Page extends Component{    username="admin";    pwd=123123;    state={        u1:"admin"    }    render(){        return <div>            <Child username={this.username} pwd={this.pwd} ss={this.state}></Child>        </div>    }}export default Page;
```

**å­ç»„ä»¶**

```
import {Component} from "react";class Child extends Component{    render(){        console.log(this.props);        return <div>            æˆ‘æ˜¯å­ç»„ä»¶            {this.props.username}           {JSON.stringify(this.props)}        </div>    }}   export default Child
```

**æ‰¹é‡ä¼ å€¼ï¼ˆçˆ¶å­å­™ä¼ å€¼ï¼‰**

**çˆ¶ç»„ä»¶**

**è¯­æ³•**

```
<ç»„ä»¶å é”®å={é”®å€¼} ></ç»„ä»¶å>
```

**å­ç»„ä»¶**

**è¯­æ³•**

```
<å­ç»„ä»¶å­ç»„ä»¶ {...this.props}></å­ç»„ä»¶å­ç»„ä»¶>
```

**å­™å­ç»„ä»¶**

**è¯­æ³•**

```
this.props
```

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import {Component}from "react";import Child from "./Child";class Page extends Component{    username="admin";    pwd=123123;    state={        u1:"admin"    }    render(){        return <div>            <Child username={this.username} pwd={this.pwd} ss={this.state}></Child>        </div>    }}export default Page;
```

**å­ç»„ä»¶**

```
import {Component} from "react";import Childchild from "./Childchild";class Child extends Component{    render(){        // console.log(this.props);        return <div>            æˆ‘æ˜¯å­ç»„ä»¶            {/* {this.props.username}           {JSON.stringify(this.props)} */}           <Childchild {...this.props}></Childchild>        </div>    }}   export default Child
```

**å­å­ç»„ä»¶**

```
import {Component} from "react";class Childchild extends Component{    render(){        return <div>            æˆ‘æ˜¯å­ç»„ä»¶çš„å­ç»„ä»¶            {JSON.stringify(this.props)}        </div>    }}export default Childchild
```

**ç»„ä»¶çš„è™šæ‹ŸDOM**

**è¯­æ³•**

**çˆ¶ç»„ä»¶**

```
<ç»„ä»¶å><æ ‡ç­¾>å†…å®¹</æ ‡ç­¾></ç»„ä»¶å>
```

**å­ç»„ä»¶**

```
this.props.children
```

å¯ä»¥è·å–çˆ¶ç»„ä»¶ï¼Œé€šè¿‡å­ç»„ä»¶çš„æ ‡ç­¾èŠ‚ç‚¹è·å–å­ç»„ä»¶æ ‡ç­¾èŠ‚ç‚¹ä¸‹çš„å†…å®¹ï¼Œå¹¶å°†å…¶è½¬æ¢æ•°ç»„ã€‚

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import {Component}from "react";import Child from "./Child";class Page extends Component{    render(){        return <div>            <Child>                <b>æˆ‘æ˜¯æ†¨æ†¨</b>                <b>æˆ‘æ˜¯å–œå–œ</b>            </Child>        </div>    }}export default Page;
```

**å­ç»„ä»¶**

```
import {Component} from "react";class Child extends Component{    render(){       console.log(this.props);        return <div>            æˆ‘æ˜¯å­ç»„ä»¶           {this.props.children[0]}        </div>    }}   export default Child
```

**å­çˆ¶ç»„ä»¶ä¼ å€¼**

æ³¨ï¼šé‡‡ç”¨ä¼ é€’ä¿®æ”¹æ–¹æ³•çš„æ–¹å¼è¿›è¡Œä¿®æ”¹ä¼ é€’ã€‚

**çˆ¶ç»„ä»¶**

```
<ç»„ä»¶å æ–¹æ³•å={(event)=>this.çˆ¶ç»„ä»¶çš„æ–¹æ³•(event)}></ç»„ä»¶å>
```

**å­ç»„ä»¶**

```
this.props.æ–¹æ³•å
```

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import {Component}from "react";import Child from "./Child";import "./index.css";class Page extends Component{    state={        username:"admin"    }    chageUsername(aa){        this.setState({username:aa});    }    render(){        return <div className="divp">            æˆ‘æ˜¯çˆ¶ç»„ä»¶            <p>{this.state.username}</p>            <Child changU={(ee)=>this.chageUsername(ee)}></Child>            </div>    }}export default Page;
```

å­ç»„ä»¶

```
import {Component} from "react";import "./index.css";class Child extends Component{    render(){        return <div className="divc">            æˆ‘æ˜¯å­ç»„ä»¶          <button onClick={()=>this.props.changU("æ†¨æ†¨")}>æŒ‰é’®</button>           </div>    }}   export default Child
```

**æ„é€ æ–¹æ³•ä¸­çš„propsä½¿ç”¨**

åœ¨æ„é€ æ–¹æ³•ä¸­ä½¿ç”¨propsï¼Œéœ€è¦å…ˆå°†propsä¼ é€’ç»™componentçˆ¶ç±»æ„é€ æ–¹æ³•ï¼Œæ‰èƒ½åœ¨å­ç±»ä¸­ç»§æ‰¿ä½¿ç”¨ã€‚

**è¯­æ³•**

```
constructor(props){    super(props)    console.log(this.props);}
```

**propså’ŒstateåŒºåˆ«**

stateçŠ¶æ€æœºï¼Œå­˜æ”¾å½“å‰ç»„ä»¶æ•°æ®ï¼Œéœ€è¦é€šè¿‡setState()è¿›è¡Œä¿®æ”¹ã€‚

propsæ˜¯ç”¨æ¥ä¼ å€¼çš„ï¼Œpropsçš„æ•°æ®åœ¨å­ç»„ä»¶ä¸­æ˜¯åªè¯»çš„ï¼Œå¦‚æœéœ€è¦ä¼ å€¼å¯ä»¥ä½¿ç”¨è°ƒç”¨ä¿®æ”¹å‡½æ•°æ–¹å¼ä¼ å€¼ã€‚

### ç»„ä»¶

#### ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ

**å®Œæ•´ç‰ˆ**

![reactå®Œæ•´ç‰ˆç”Ÿå‘½å‘¨æœŸ](file:///E:/%E6%8E%88%E8%AF%BE%E5%86%85%E5%AE%B9/%E4%B8%AD%E5%85%AC/VUE%E8%AF%BE%E7%A8%8B/%E7%AC%94%E8%AE%B0/2022%E5%B9%BF%E5%B7%9EWeb%E5%85%A8%E6%A0%88%E9%9D%A2%E6%8E%88%E5%B0%B1%E4%B8%9A%E7%8F%AD10%E7%8F%AD/img/react%E5%AE%8C%E6%95%B4%E7%89%88%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png?lastModify=1664353384)

**Mounting(æŒ‚è½½)**

constructor() ç»„ä»¶æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–æ•°æ®

getDerivedStateFromProps() åœ¨æ¸²æŸ“ä¹‹å‰ï¼Œä¿®æ”¹stateä¸­çš„æ•°æ®ã€‚ â‘ ã€ä¸€å®šè¦åœ¨å‰é¢åŠ ä¸Šstaticï¼Œå£°æ˜ä¸ºé™æ€çš„ï¼Œä¸ç„¶ä¼šè¢«reactå¿½ç•¥åŒæ—¶è¿˜æŠ¥é”™ â‘¡ã€ä¸€å®šè¦ä¿è¯åœ¨constructorä¸­å®šä¹‰äº†state â‘¢ã€ä¸€å®šè¦åŠ ä¸Šreturnï¼Œå¦‚æœreturnç©ºå¯¹è±¡åˆ™è¡¨ç¤ºä»€ä¹ˆéƒ½ä¸ä¿®æ”¹ï¼Œå¦‚æœreturné”®å€¼å¯¹åˆ™ä¼šä¿®æ”¹æˆå½“å‰è¿™ä¸ªé”®å€¼å¯¹çš„æ ·å­

render() æ¸²æŸ“DOMçš„æ–¹æ³•ï¼ŒåŠ è½½å¹¶æ¸²æŸ“æ‰€æœ‰çš„DOMå…ƒç´  componentDidMount() ç»„ä»¶æŒ‚è½½å®Œæ¯•è°ƒç”¨ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åœ¨è¿™é‡Œå¼€å¯å®šæ—¶å™¨ã€å¼€å¯å€’è®¡æ—¶ã€åšæ•°æ®äº¤äº’

**Updating(æ›´æ–°)**

getDerivedStateFromProps() åœ¨æŒ‚è½½å®Œæˆåï¼Œå†æ¬¡æ¸²æŸ“å‰å†æ¬¡è¢«è°ƒç”¨ï¼Œ æ ¹æ® shouldComponentUpdate() çš„è¿”å›å€¼ï¼Œåˆ¤æ–­ React ç»„ä»¶çš„è¾“å‡ºæ˜¯å¦å—å½“å‰ state æˆ– props æ›´æ”¹çš„å½±å“ã€‚å¯ä»¥å½±å“çš„å¸¸è§æ–¹æ³•åŒ…æ‹¬New propsã€setState()ã€forceUpdate()ã€‚ shouldComponentUpdate(nextProps,nextState) ï¼Œå½“ props æˆ– state å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè¢«è°ƒç”¨ï¼Œå…¶ä¸»è¦åŠŸèƒ½åˆ¤æ–­è¦ä¸è¦æ›´æ–°ï¼Œå¯ä»¥æ§åˆ¶å€¼å˜æ¢è€Œå†³å®šæ˜¯å¦æ›´æ–°ã€‚ 1ã€return true è¦æ›´æ–°ï¼Œå°±ä¼šèµ°renderè¿›è¡Œå±€éƒ¨æ›´æ–° 2ã€return false ä¸è¦æ›´æ–°ï¼Œå°±ä¸ä¼šèµ°renderä¹Ÿä¸ä¼šè¿›è¡Œå±€éƒ¨æ›´æ–°

render() é‡æ–°æ¸²æŸ“DOMå…ƒç´ 

getSnapshotBeforeUpdate() ï¼Œåœ¨æœ€è¿‘ä¸€æ¬¡æ¸²æŸ“è¾“å‡ºï¼ˆæäº¤åˆ° DOM èŠ‚ç‚¹ï¼‰ä¹‹å‰è°ƒç”¨ã€‚

componentDidUpdate() ï¼Œåœ¨æ›´æ–°å®Œæ¯•åè°ƒç”¨

**Unmounting(å¸è½½)**

componentWillUnmount(): åœ¨ç»„ä»¶å¸è½½åŠé”€æ¯ä¹‹å‰ç›´æ¥è°ƒç”¨ã€‚ä¸€èˆ¬æƒ…å†µä¸‹åœ¨è¿™é‡Œå…³é—­å®šæ—¶å™¨ã€å…³é—­å€’è®¡æ—¶

**å¸¸ç”¨ç‰ˆ**

![reactå¸¸ç”¨ç”Ÿå‘½å‘¨æœŸ](file:///E:/%E6%8E%88%E8%AF%BE%E5%86%85%E5%AE%B9/%E4%B8%AD%E5%85%AC/VUE%E8%AF%BE%E7%A8%8B/%E7%AC%94%E8%AE%B0/2022%E5%B9%BF%E5%B7%9EWeb%E5%85%A8%E6%A0%88%E9%9D%A2%E6%8E%88%E5%B0%B1%E4%B8%9A%E7%8F%AD10%E7%8F%AD/img/react%E5%B8%B8%E7%94%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png?lastModify=1664353384)

**çˆ¶å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº**

å•ç»„ä»¶æ‰§è¡Œé¡ºåº

**æ²¡æœ‰æ›´æ–°æ­£å¸¸ç‰ˆæ‰§è¡Œé¡ºåº**

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯å¸è½½å‰

**æ›´æ–°æ­£å¸¸ç‰ˆæ‰§è¡Œé¡ºåº**

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æ›´æ–°å®Œæˆ=>æˆ‘æ˜¯å¸è½½å‰

**æ²¡æœ‰æ›´æ–°å®Œæ•´ç‰ˆæ‰§è¡Œé¡ºåº**

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯å¸è½½å‰

**æ›´æ–°æ­£å¸¸ç‰ˆæ‰§è¡Œé¡ºåº**

**å½“åˆ¤æ–­æ›´æ–°æ–¹æ³•è¿”å›falseçš„æ—¶å€™**

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°=>æˆ‘æ˜¯å¸è½½å‰

**å½“åˆ¤æ–­æ›´æ–°æ–¹æ³•è¿”å›trueçš„æ—¶å€™**

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°=>æˆ‘æ˜¯æ¸²æŸ“=>æœ€åä¸€æ¬¡æ›´æ–°ç»“æœ=>æˆ‘æ˜¯æ›´æ–°å®Œæˆ=>æˆ‘æ˜¯å¸è½½å‰

çˆ¶å­ç»„ä»¶æ‰§è¡Œé¡ºåº

æˆ‘æ˜¯æ„é€ =>æˆ‘æ˜¯è¢«è°ƒç”¨=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯æ„é€ å„¿=>æˆ‘æ˜¯è¢«è°ƒç”¨å„¿=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆå„¿=>æˆ‘æ˜¯æŒ‚è½½å®Œæˆ=>æˆ‘æ˜¯è¢«è°ƒç”¨getDerivedStateFromProps=>æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°=>æˆ‘æ˜¯æ¸²æŸ“=>æˆ‘æ˜¯è¢«è°ƒç”¨å„¿getDerivedStateFromProps=>æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°å„¿=>æœ€åä¸€æ¬¡æ›´æ–°ç»“æœå„¿=>æœ€åä¸€æ¬¡æ›´æ–°ç»“æœ=>æˆ‘æ˜¯æ›´æ–°å®Œæˆå„¿/æˆ‘æ˜¯å¸è½½å‰å„¿=>æˆ‘æ˜¯æ›´æ–°å®Œæˆ

**æ¡ˆä¾‹**

çˆ¶ç»„ä»¶

```
import  { Component } from 'react'import Child from "./Child";export default class Page extends Component {  constructor(){    super()    this.state={      username:"admin",      flag:true    }    console.log("æˆ‘æ˜¯æ„é€ ");  }  static getDerivedStateFromProps(a,newState){    console.log(a);    console.log(newState);//æ˜¯æœ€æ–°çš„stateå€¼    console.log("æˆ‘æ˜¯è¢«è°ƒç”¨");      //return {username:"addffsddf"};    return null;  }  shouldComponentUpdate(c,newValue){    console.log(c);    console.log(newValue);//æ˜¯æœ€æ–°çš„stateå€¼    console.log("æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°");    return true;  }getSnapshotBeforeUpdate(){  console.log("æœ€åä¸€æ¬¡æ›´æ–°ç»“æœ");  return null;}  componentDidMount(){    console.log("æˆ‘æ˜¯æŒ‚è½½å®Œæˆ");  }  componentDidUpdate(){    console.log("æˆ‘æ˜¯æ›´æ–°å®Œæˆ");  }  componentWillUnmount(){    console.log("æˆ‘æ˜¯å¸è½½å‰");  }    changeUsername(){    this.setState({      flag:false    })  }  render() {    console.log("æˆ‘æ˜¯æ¸²æŸ“");    console.log(this.state);    return (      <div>        <button onClick={()=>this.changeUsername()}>æŒ‰é’®</button>        ç”¨æˆ·å:{this.state.username}        {this.state.flag?<Child username={this.state.username}></Child>:null}        </div>    )  }}
```

å­ç»„ä»¶

```
import React, { Component } from 'react'export default class Child extends Component {    constructor(){        super()        console.log("æˆ‘æ˜¯æ„é€ å„¿");        this.state={                    }      }      static getDerivedStateFromProps(newProps,newState){        console.log(newProps);//æ˜¯æœ€æ–°çš„Propså€¼        // console.log(newState);//æ˜¯æœ€æ–°çš„stateå€¼        console.log("æˆ‘æ˜¯è¢«è°ƒç”¨å„¿");          return {username:"addffsddf"};//return null;      }      shouldComponentUpdate(newProps,newValue){        console.log(newProps);//æ˜¯æœ€æ–°çš„Propså€¼        // console.log(newValue);//æ˜¯æœ€æ–°çš„stateå€¼        console.log("æˆ‘æ˜¯åˆ¤æ–­ä½ è¦ä¸è¦æ›´æ–°å„¿");        return true;      }    getSnapshotBeforeUpdate(){      console.log("æœ€åä¸€æ¬¡æ›´æ–°ç»“æœå„¿");      return null;    }          componentDidMount(){        console.log("æˆ‘æ˜¯æŒ‚è½½å®Œæˆå„¿");      }      componentDidUpdate(){        console.log("æˆ‘æ˜¯æ›´æ–°å®Œæˆå„¿");      }      componentWillUnmount(){        console.log("æˆ‘æ˜¯å¸è½½å‰å„¿");      }  render() {    let {username}=this.props;    return (      <div>        Child        {username}        </div>    )  }}
```

#### ç»„ä»¶ä¼˜åŒ–

**ç©ºæ ‡ç­¾ç»„ä»¶ï¼ˆFragmentï¼‰**

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾åœ¨çˆ¶ç»„ä»¶ä¸­çš„ulæ ‡ç­¾ä¸­ä½¿ç”¨å­ç»„ä»¶ï¼Œé‚£ä¹ˆç°åœ¨çš„åµŒå¥—æ˜¯ulå¥—divå¥—liï¼Œè¿™æ˜¯ä¸€ä¸ªä¸åˆç†çš„åµŒå¥—ã€‚æˆ‘ä»¬å¸Œæœ›ulæ ‡ç­¾å†…ç›´æ¥å¥—liæ ‡ç­¾ï¼›æˆ‘ä»¬å¯ä»¥å°†å­ç»„ä»¶æœ€å¤–å±‚çš„divåˆ æ‰ï¼Œåªå†™ä¸€ä¸ªç©ºæ ‡ç­¾æ¥è§£å†³ï¼Œä½†æ˜¯å®˜æ–¹ä¸å»ºè®®è¿™æ ·ï¼Œå®˜æ–¹ç»™æˆ‘ä»¬æä¾›äº†fragmentç»„ä»¶æ¥è§£å†³ï¼Œfragmentç»„ä»¶å°±æ˜¯ä¸€ä¸ªç©ºæ ‡ç­¾ã€‚

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import  { Component } from 'react'import Child from './Child';export default class Page extends Component {  render() {    return (      <div>        <ul>            <Child></Child>        </ul>      </div>    )  }}
```

**å­ç»„ä»¶**

```
import { Component, Fragment } from 'react'export default class Child extends Component {    constructor(){        super();        this.state={            arr:["å¤–å–","ç”µå½±","éŸ³ä¹"]        }    }  render() {    let {arr}=this.state;    return (      <Fragment>        {            arr.map((item,index)=><li key={index}>{item}</li>)        }      </Fragment>    )  }}
```

**ç»„ä»¶é”€æ¯ä¼˜åŒ–ï¼ˆcomponentWillUnmountï¼‰**

ä½¿ç”¨åœºæ™¯ï¼šå­ç»„ä»¶ä¸­æœ‰ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨å­ç»„ä»¶é”€æ¯çš„æ—¶å€™ï¼Œå®šæ—¶å™¨ä¼šä¸€ç›´å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨å­ç»„ä»¶å°†è¦é”€æ¯çš„æ—¶å€™å®šæ—¶ä¹Ÿä¹Ÿéœ€è¦æ¸…ç©ºã€‚

**æ¡ˆä¾‹**

**å­ç»„ä»¶**

```
import { Component } from 'react'export default class Child extends Component {  constructor(){    super();    this.state={        time:new Date().toLocaleString()    }  }componentDidMount(){    this.dingshiqi=setInterval(()=>{        this.setState({time:            new Date().toLocaleString()        })    },1000);    console.log(this);}  componentWillUnmount(){    clearInterval(this.dingshiqi);    console.log("æˆ‘é”€æ¯");    console.log(this);  }    render() {     let {time}=this.state;    return (      <div>        <div>time:{time}</div>      </div>    )  }}
```

**çˆ¶ç»„ä»¶**

```
import  { Component } from 'react'import Child from './Child';export default class Page extends Component {    constructor(){        super();        this.state={            flag:true        }    }    chageFlag(){        this.setState({flag:false})    }  render() {    let {flag}=this.state;    return (      <div>        Page        <button onClick={()=>{this.chageFlag()}}>æŒ‰é’®</button>        {flag?<Child></Child>:null}    </div>    )  }}
```

**æ›´æ–°åˆ¤å®šä¼˜åŒ–ï¼ˆshouldComponentUpdateï¼‰**

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾çˆ¶ç»„ä»¶æœ‰å¾ˆå¤šå¾ˆå¤šæ•°æ®ï¼Œå­ç»„ä»¶åªä¾èµ–éƒ¨åˆ†æ•°æ®ï¼Œç°åœ¨æ•ˆæœå°±æ˜¯åªè¦å…¶çˆ¶ç»„ä»¶ä¸­çš„ä»»ä½•ä¸€ä¸ªæ•°æ®å‘ç”Ÿå˜åŒ–äº†éƒ½ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚æˆ‘ä»¬å¸Œæœ›åªæœ‰å½“å­ç»„ä»¶ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–äº†æ‰ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import { Component } from 'react'import Child from './Child';export default class Page extends Component {    constructor(){        super();        this.state={            username:"admin"        }    }    changeUsername(){        this.setState({username:"aaaaa"});    }  render() {    let {username}=this.state;    return (      <div>        Page        <button onClick={()=>this.changeUsername()}>æŒ‰é’®</button>        <p>{username}</p>            <Child username={username}></Child>        </div>    )  }}
```

**å­ç»„ä»¶**

```
import { Component } from 'react'export default class Child extends Component {    shouldComponentUpdate(newProps,newState){        console.log(newProps);        return false;    }  render() {    let {username}=this.props;    return (      <div>        Child        {username}    </div>    )  }}
```

**çº¯ç»„ä»¶ï¼ˆpureComponentï¼‰**

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾çˆ¶ç»„ä»¶æœ‰å¾ˆå¤šå¾ˆå¤šæ•°æ®ï¼Œå­ç»„ä»¶åªä¾èµ–äº†å…¶ä¸­çš„ä¸€ä¸ªï¼Œç°åœ¨æ•ˆæœå°±æ˜¯åªè¦å…¶çˆ¶ç»„ä»¶ä¸­çš„ä»»ä½•ä¸€ä¸ªæ•°æ®å‘ç”Ÿå˜åŒ–äº†éƒ½ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚æˆ‘ä»¬å¸Œæœ›åªæœ‰å½“å­ç»„ä»¶ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–äº†æ‰ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚

æ³¨ï¼šä»¥æµ…å±‚å¯¹æ¯” prop å’Œ state çš„æ–¹å¼æ¥å®ç°äº†shouldComponentUpdate()å‡½æ•°ï¼Œä¸»è¦é’ˆå¯¹ç±»ç»„ä»¶

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import  { Component } from 'react'import Child from './Child';export default class Page extends Component {    constructor(){        super();        this.state={            username:"admin",            pwd:123456        }    }    changPwd(){        this.setState({pwd:"123123"});    }    changUsername(){        this.setState({username:"aaaaaaa"});    }  render() {    let {username,pwd}=this.state;    return (      <div>        Page        <button onClick={()=>this.changPwd()}>æŒ‰é’®</button>        <button onClick={()=>this.changUsername()}>æŒ‰é’®2</button>        <p>{username},{pwd}</p>        <Child username={username}></Child>        </div>    )  }}
```

**å­ç»„ä»¶**

```
import React, { PureComponent } from 'react'export default class Child extends PureComponent {  render() {    let {username}=this.props;    console.log("æˆ‘æ˜¯å­ç»„ä»¶");    return (      <div>        Child        <p>{username}</p>      </div>    )  }}
```

**React.Memoæ–¹æ³•**

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾çˆ¶ç»„ä»¶æœ‰å¾ˆå¤šå¾ˆå¤šæ•°æ®ï¼Œå­ç»„ä»¶åªä¾èµ–äº†å…¶ä¸­çš„ä¸€ä¸ªï¼Œç°åœ¨æ•ˆæœå°±æ˜¯åªè¦å…¶çˆ¶ç»„ä»¶ä¸­çš„ä»»ä½•ä¸€ä¸ªæ•°æ®å‘ç”Ÿå˜åŒ–äº†éƒ½ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚æˆ‘ä»¬å¸Œæœ›åªæœ‰å½“å­ç»„ä»¶ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–äº†æ‰ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚

æ³¨ï¼šä»¥æµ…å±‚å¯¹æ¯” prop å’Œ state çš„æ–¹å¼æ¥å®ç°äº†shouldComponentUpdate()å‡½æ•°ï¼Œä¸»è¦é’ˆå¯¹å‡½æ•°ç»„ä»¶

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import  { Component } from 'react'import Child from './Child';export default class Page extends Component {    constructor(){        super();        this.state={            username:"admin",            pwd:123456        }    }    changPwd(){        this.setState({pwd:"123123"});    }    changUsername(){        this.setState({username:"aaaaaaa"});    }  render() {    let {username,pwd}=this.state;    return (      <div>        Page        <button onClick={()=>this.changPwd()}>æŒ‰é’®</button>        <button onClick={()=>this.changUsername()}>æŒ‰é’®2</button>        <p>{username},{pwd}</p>        <Child username={username}></Child>        </div>    )  }}
```

**å­ç»„ä»¶**

```
import React from 'react'function Child(props) {  let {username}=props;    console.log("æˆ‘æ˜¯å­ç»„ä»¶");    return (      <div>        Child        <p>{username}</p>      </div>    )}export default React.memo(Child);
```

**è¯­å¢ƒæ–¹æ³•context**

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾çˆ¶ç»„ä»¶æœ‰ä¸€äº›æ•°æ®ï¼Œå­ç»„ä»¶ä¸éœ€è¦ä½¿ç”¨ï¼Œä½†æ˜¯å­å­ç»„ä»¶éœ€è¦ä½¿ç”¨ï¼Œæˆ‘ä»¬ä¼ ç»Ÿçš„æ–¹å¼æ˜¯çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶å†ä¼ ç»™å­å­ç»„ä»¶ï¼Œå¦‚æœç»„ä»¶åµŒå¥—æ¯”è¾ƒå¤šçš„è¯å°±ä¸å¤ªåˆç†äº†ã€‚æˆ‘ä»¬å¯ä»¥å€ŸåŠ©React.context()æ¥è§£å†³ã€‚

**æ¡ˆä¾‹**

**çˆ¶ç»„ä»¶**

```
import { Component,createContext } from 'react'import Child from './Child';export const {Provider,Consumer} =createContext();//Provider ä¼ é€’æ•°æ®//Consumer æ¥æ”¶æ•°æ®export default class Page extends Component {    constructor(){        super();        this.state={            username:"admin"        }    }  render() {    let {username}=this.state    return (      <div>        Page        {username}        <Provider value={{username:username}}>           <Child></Child>         </Provider>      </div>    )  }}
```

å­ç»„ä»¶

```
import React, { Component } from 'react'import ChildChild from './ChildChild'export default class Child extends Component {  render() {    return (      <div>        Child        <ChildChild></ChildChild>        </div>    )  }}
```

å­å­ç»„ä»¶

```
import React, { Component } from 'react'import {Consumer} from "./Page";export default class ChildChild extends Component {  render() {    return (      <div>        ChildChild        <Consumer>            {(e)=>{                let {username}=e;                   return <div>                    <p>{JSON.stringify(e)}</p>                    <p>{username}</p>                </div>            }}        </Consumer>        </div>    )  }}
```

#### é”™è¯¯è¾¹ç•Œå¤„ç†å‡½æ•°ï¼ˆcomponentDidCatchï¼‰

ä½¿ç”¨åœºæ™¯ï¼šå‡è®¾çˆ¶ç»„ä»¶å†…æœ‰å¾ˆå¤šé¡µé¢ï¼Œä½†æ˜¯å…¶ä¸­ä¸€ä¸ªå­ç»„ä»¶çš„é”™è¯¯ä¼šå¼•èµ·æ•´å¥—é¡µé¢çš„å´©å¡Œï¼Œæˆ‘ä»¬å¸Œæœ›å½“å­ç»„ä»¶å‡ºç°é”™è¯¯çš„æ—¶å€™ä»…ä»…æ˜¯å­ç»„ä»¶è‡ªå·±ä¸æ¸²æŸ“ä¸ä¼šå½±å“åˆ°å…¶ä»–é¡µé¢çš„å†…å®¹ã€‚

componentDidCatchå‡½æ•°ï¼Œå½“é¡µé¢å‘ç”Ÿé”™è¯¯çš„æ—¶å€™è¢«è§¦å‘ã€‚

**æ¡ˆä¾‹**

çˆ¶ç»„ä»¶

```
import React, { Component } from 'react'import Child from './Child'export default class Page extends Component {    constructor(){        super();        this.state={            flag:true        }    }    componentDidCatch(){        console.log("æˆ‘æ‰“å°ä¸ï¼Ÿ");        this.setState({flag:false});    }  render() {    let {flag}=this.state;    return (      <div>        {flag?<Child></Child>:null}      </div>    )  }}
```

**å­ç»„ä»¶**

```
import React, { Component } from 'react'export default class Child extends Component {  render() {    // console.log(a);    // let a=30;    return (      <div>        Child    </div>    )  }}
```

#### é«˜é˜¶ç»„ä»¶

HOC(HigherÂ­order component)æ˜¯ä¸€ç§React çš„è¿›é˜¶ä½¿ç”¨æ–¹æ³•ï¼Œä¸»è¦è¿˜æ˜¯ä¸ºäº†ä¾¿äºç»„ä»¶çš„å¤ç”¨ï¼Œå¹¶éå®˜æ–¹æ–¹æ³•ã€‚HOCæœ¬èº«å¹¶ä¸æ˜¯ React API, å®ƒå°±æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ¥æ”¶ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¢å¼ºçš„ç»„ä»¶çš„æ–¹æ³•ã€‚

æ³¨ï¼šé«˜é˜¶ç»„ä»¶æœ‰ä¸”åªæœ‰ä¸€ä¸ªå‚æ•°ã€‚

**æ¡ˆä¾‹**

```
import  { Component } from 'react'import Child1 from './Child1';import Child2 from './Child2';import f from "./index";  let C1=f(Child1);  let C2=f(Child2);  export default class Page extends Component {    render() {      return (        <div>         <C1></C1>         <C2></C2>      </div>              )    }  }
```

**é«˜é˜¶ç»„ä»¶çš„æ¨¡å—åŒ–**

**index.js**

```
import { Component } from 'react'export default function f(C){    return class H extends Component{      constructor(){        super();        this.state={          str:`æˆ‘æ˜¯ä¸€ä¸ªå­ç»„ä»¶`        }      }        render(){          return (<div>            <C str={this.state.str}></C>          </div>)        }      }    }
```

### è¿‡æ¸¡åŠ¨ç”»

#### ä¸‹è½½

```
npm i react-transition-group
```

#### å¼•å…¥

```
import {CSSTransition,TransitionGroup} from "react-transition-group"
```

#### ä½¿ç”¨

**å…³é”®é…ç½®é¡¹**

```
unmountOnExit	å¿…å¡«ï¼Œé€€å‡ºæ—¶å®ç°å¸è½½è¯¥ç»„ä»¶in				å¿…å¡«ï¼Œè¯¥å…ƒç´ å—å“ªä¸ªçŠ¶æ€æ‰€å½±å“timeout			å¿…å¡«ï¼Œè¿‡æ¸¡åŠ¨ç”»çš„æŒç»­æ—¶é—´classNames		å¿…å¡«ï¼ŒæŒ‡è¿‡æ¸¡åŠ¨ç”»çš„ç±»åï¼ˆä¸¤ç»„å››ä¸ªï¼‰onEnter			å…ƒç´ è¿›å…¥å‰çš„å›è°ƒå‡½æ•°onEntering		å…ƒç´ è¿›å…¥ä¸­çš„å›è°ƒå‡½æ•°onEntered		å…ƒç´ è¿›å…¥åçš„å›è°ƒå‡½æ•°onExit			å…ƒç´ ç¦»å¼€å‰çš„å›è°ƒå‡½æ•°onExiting		å…ƒç´ ç¦»å¼€ä¸­çš„å›è°ƒå‡½æ•°onExited		å…ƒç´ ç¦»å¼€åçš„å›è°ƒå‡½æ•°
```

**æ¡ˆä¾‹**

**æ ·å¼æ–‡ä»¶**

```
/* è¿›å…¥ */.fade-enter{  opacity: 0;}.fade-enter-active{  opacity: 1;  transition: all 1s;}/* ç¦»å¼€ */.fade-exit{  opacity: 1;}.fade-exit-active{  opacity: 0;  transition: all 1s;}
```

**jsxæ–‡ä»¶**

**å•å…ƒç´ è¿‡æ¸¡åŠ¨ç”»**

```
        <button onClick={()=>this.setState({flag:!flag})}>{msg}</button>        <CSSTransition unmountOnExit in={flag} timeout={500} classNames="fade" onEntered={()=>this.setState({msg:"éšè—"})} onExited={()=>this.setState({msg:"æ˜¾ç¤º"})}>            <div className='boxDiv'></div>        </CSSTransition>
```

**åˆ—è¡¨è¿‡æ¸¡åŠ¨ç”»**

```
<ul>        <TransitionGroup>        {                arr.map((item,index)=>{                    return <CSSTransition unmountOnExit in={flag} timeout={1000} classNames="fade" key={index}>                        <li>                            <p>{item}</p>                            <button onClick={()=>this.delArr(index)}>åˆ é™¤</button>                        </li>                    </CSSTransition>                })            }        </TransitionGroup>            </ul>   
```

### è·¯ç”±

#### ä¸‹è½½

```
npm i react-router-dom@latest
```

æœ€æ–°ç‰ˆæœ¬ 6.4.0 2022.04

#### è·¯ç”±æ¨¡å¼

**æ³¨**ï¼šåœ¨reactä¸­ä½¿ç”¨è·¯ç”±çš„æ—¶å€™ï¼Œä¸€å®šè¦å…ˆè®¾ç½®è·¯ç”±æ¨¡å¼ï¼Œä¸ç„¶è·¯ç”±æ˜¯æ— æ•ˆçš„ã€‚

**å¼•å…¥**

index.js

```
import {BrowserRouter,HashRouter} from "react-router-dom"
```

BrowserRouter ä¸å¸¦#ï¼Œç›¸å½“äºvue-routerä¸­çš„historyè·¯ç”±æ¨¡å¼ HashRouter å¸¦#ï¼Œç›¸å½“äºvue-routerä¸­çš„hashè·¯ç”±æ¨¡å¼

**ç»‘å®šä½¿ç”¨ä½¿ç”¨**

index.js

```
root.render(  <BrowserRouter>    <App />  </BrowserRouter>);
```

#### è·¯ç”±å‡ºå£

**app.js**

```
import {Routes} from "react-router-dom"function App() {  return (    <div>      <Routes></Routes>    </div>  );}
```

#### è·¯ç”±è§„åˆ™å®šä¹‰

**è¯­æ³•**

```
<Routes><Route path="/è·¯ç”±" element={<ç»„ä»¶></ç»„ä»¶>}></Route></Routes>
```

app.js

```
import {Routes,Route} from "react-router-dom";import Page from "./components/01_reactç”Ÿå‘½å‘¨æœŸ/Page";function App() {  return (    <div>      <Routes>        {/* è·¯ç”±è§„åˆ™ */}		<Route path="/index" element={<Index></Index>}></Route>      </Routes>    </div>  );}
```

#### è·¯ç”±é‡å®šå‘

**è¯­æ³•**

```
import {Routes,Route,Navigate} from "react-router-dom"<Routes>	<Route path="*" element={<Navigate to="/è·¯ç”±"></Navigate>}></Route></Routes>
```

**åº”ç”¨**

**èµ„æºä¸å­˜åœ¨(404)å¤„ç†**

```
import {Routes,Route,Navigate} from "react-router-dom"<Routes> 	<Route path="/not" element={<Not></Not>}></Route>	<Route path="*" element={<Navigate to="/not"></Navigate>}></Route></Routes>
```

#### è·¯ç”±åµŒå¥—

**è¯­æ³•**

**ä¸€çº§è·¯ç”±**

```
<Routes>	<Route path="/è·¯ç”±/*" element={<Index></Index>}></Route></Routes>
```

**äºŒçº§è·¯ç”±**

```
 <Routes>        <Route path="home" element={<Home></Home>}></Route></Routes>        
```

**ä½¿ç”¨**

**app.jsx**

```
<Routes>	<Route path="/index/*" element={<Index></Index>}></Route></Routes>
```

**index.jsx**

```
import {Routes,Route,Navigate} from "react-router-dom"    <div>      <Routes>          <Routes>              <Route path='c1' element={<Child></Child>}></Route>              <Route path='c2' element={<Child1></Child1>}></Route>          </Routes>    </div>
```

#### è·¯ç”±å¯¼èˆª

**å¯¼èˆªç»„ä»¶**

**è¯­æ³•**

**Linkç»„ä»¶**

```
import {Link,NavLink} from "react-router-dom"<div>    <Link to="/è·¯ç”±">æ–‡å­—</Link>    <NavLink to="/è·¯ç”±" className={({isActive})=>isActive?'æ ·å¼':undefined}>æ–‡å­—</NavLink></div>
```

**NavLinkç»„ä»¶**

```
import {Link,NavLink} from "react-router-dom"<div>    <NavLink to="/è·¯ç”±" className={({isActive})=>isActive?'æ ·å¼':undefined}>æ–‡å­—</NavLink>    <NavLink to="/è·¯ç”±" style={({isActive})=>isActive?{background:"orange"}:undefined}>æ–‡å­—</NavLink></div>
```

**æ³¨ï¼š**Linkç»„ä»¶æ²¡æœ‰æä¾›classNameå’Œstyleï¼Œå¦‚æœæƒ³è¦å®ç°æ¿€æ´»é«˜äº®çš„è¯å°±éœ€è¦ä½¿ç”¨NavLinkç»„ä»¶ï¼ŒNavLinkç»„ä»¶é»˜è®¤ä¼šè°ƒç”¨activeæ ·å¼

**æ¡ˆä¾‹**

**æ ·å¼**

```
.footBox{  width: 100vw;  position: fixed;  left: 0;  bottom: 0;  display: flex;}.footBox .aaa{  color: white;  background-color: orange;}
```

**index.js**

```
import React, { Component } from 'react'import { Route, Routes, Link,NavLink} from 'react-router-dom'import Home from "./Home";import Fima from "./Fima";import Mine from "./Mine";import Msg from "./Msg";import "./index.css";export default class index extends Component {    render() {        return (<div>            <p><Link to="/index/home">é¦–é¡µ</Link></p>            <p><NavLink to="/index/fima" style={({isActive})=>isActive?{background:"green"}:null}>ç†è´¢</NavLink></p>            <p><NavLink to="/index/msg" className={({isActive})=>isActive?'aaa':null}>æ¶ˆæ¯</NavLink></p>            <p><NavLink to="/index/mine">æˆ‘çš„</NavLink></p>            <Routes>                <Route path='home' element={<Home></Home>}></Route>                <Route path='fima' element={<Fima></Fima>}></Route>                <Route path='mine' element={<Mine></Mine>}></Route>                <Route path='msg' element={<Msg></Msg>}></Route>            </Routes>        </div>        )    }}
```

**ç¼–ç¨‹å¼å¯¼èˆª**

**è¯­æ³•**

```
import {useNavigate} from "react-router-dom"const Navigate = useNavigate()Navigate("/è·¯ç”±");//è¿½åŠ ä¸€æ¡æ–°çš„å†å²è®°å½•Navigate("/è·¯ç”±",{replace:true})// ç”¨æ–°çš„å†å²è®°å½•æ›¿æ¢æ‰å½“å‰å†å²è®°å½•Navigate(num),æ ¹æ®æ­£è´Ÿæ•°ï¼Œå›é€€/å‰è¿›æŒ‡å®šå†å²è®°å½•
```

**æ¡ˆä¾‹**

```
import React from 'react';import {useNavigate} from "react-router-dom";export default function Home() {    let Navigate=useNavigate();  return (    <div>home        <button onClick={()=>Navigate(-2)}>æŒ‰é’®</button>    </div>  )}
```

#### è·¯ç”±å‚æ•°

**searchä¼ å‚**

**è¯­æ³•**

**ä¼ é€’**

```
<Link key={item.id} to={"/è·¯ç”±?é”®å=é”®å€¼&&é”®å=é”®å€¼}>
```

**æ¥æ”¶**

**æ–¹å¼ä¸€**

```
import {useLocation} from "react-router-dom"const {search} = useLocation()
```

**æ–¹å¼äºŒ**

```
import {useSearchParams} from "react-router-dom"const [searchParams,setSearchParams] = useSearchParams()
```

**æ¡ˆä¾‹**

```
import React from 'react'import { useLocation }from "react-router-dom";export default function Child() { let {search}=useLocation();console.log(new URLSearchParams(search).get("username"));  return (    <div>Child</div>  )}
```

**æ¡ˆä¾‹2**

```
import React from 'react'import {useSearchParams} from "react-router-dom";export default function Child() {  let [searchParams,setSearchParams]=useSearchParams();  console.log(searchParams.get("username"));  return (    <div>Child</div>  )}
```

**stateä¼ å‚**

**è¯­æ³•**

**ä¼ é€’**

```
<Link key={item.id} to="/è·¯ç”±" state={{é”®å:é”®å€¼}}>
```

**æ¥æ”¶**

```
import {useLocation} from 'react-router-dom'const {state} = useLocation()console.log(state);
```

**æ¡ˆä¾‹**

```
import React from 'react'import { useLocation }from "react-router-dom";export default function Child() {  let {state}=useLocation();  console.log(state.usera);  return (    <div>Child</div>  )}
```

**åŠ¨æ€è·¯ç”±ä¼ å‚**

**è¯­æ³•**

**è·¯ç”±è§„åˆ™**

```
<Route path="/è·¯ç”±/:å˜é‡å" element={<PlayingDetail></PlayingDetail>}></Route>
```

**ä¼ é€’**

```
<Link to={"/è·¯ç”±/"+å€¼>
```

**æ¥æ”¶**

```
import React from 'react'import { useParams }from "react-router-dom";export default function Child() {  let param=useParams();  console.log(param);  return (    <div>Child</div>  )}
```

#### è·¯ç”±æ‡’åŠ è½½

**è¯­æ³•**

**å¼•å…¥ æ–¹å¼æ‡’åŠ è½½**

```
const å˜é‡ = React.lazy(()=>import("å¼•å…¥è·¯å¾„"))
```

**React.Suspenseæ–¹å¼**

æ­¤æ–¹å¼éœ€è¦å°†è·¯ç”±å‡ºå£è¿›è¡ŒåŒ…è£¹

```
<React.Suspense fallback={<div>æ­£åœ¨åŠ è½½ä¸­ã€‚ã€‚ã€‚</div>}>	<Routes>		æ‰€æœ‰è·¯ç”±è§„åˆ™	</Routes></React.Suspense>
```

### è¿‡æ»¤å™¨

#### åˆ›å»ºè¿‡æ»¤å™¨

**filterPrice.js**

```
export default function å‡½æ•°å(){  	è¿‡æ»¤å™¨è¯­æ³•  return ;}
```

#### ä½¿ç”¨è¿‡æ»¤å™¨

```
<p>ä»·æ ¼ï¼š{è¿‡æ»¤å™¨å‡½æ•°å(ä¼ é€’å€¼)}</p>
```

**æ¡ˆä¾‹**

1ã€åˆ›å»ºè¿‡æ»¤å™¨å¹¶å¯¼å‡º

```
export default function dateFilter(date){    return new Date(date).toLocaleString().replaceAll("/","-");}
```

2ã€åœ¨éœ€è¦ä½¿ç”¨çš„ç»„ä»¶ä¸­

```
import dateFilter from "./filter";<p>å½“å‰æ—¶é—´ï¼š{dateFilter(dateTime)}</p>
```

### reactå…¬å…±ç»„ä»¶çš„ä½¿ç”¨

**back.jsx**

```
import React from 'react'import {useNavigate}from "react-router-dom";export default function back() {  let Navigate=useNavigate();  return (    <div>      <button onClick={()=>Navigate(-1)}>è¿”å›</button>    </div>  )}
```

**ç»„ä»¶**

```
import React, { Component } from 'react'import { Route,Routes } from 'react-router-dom';import Back  from "./Back";import ChildA from "./ChildA";import ChildB from "./ChildB";import ChildC from './ChildC';export default class Page extends Component {  state={    flag:false  }  changFlag(){    this.setState({flag:true})  }  render() {    let {flag}=this.state;    return (      <div>        {flag?<Back></Back>:null}        <Routes>        <Route path="a" element={<ChildA></ChildA>}></Route>        <Route path="b" element={<ChildB changeFlag={()=>this.changFlag()}></ChildB>}></Route>        <Route path="c" element={<ChildC changeFlag={()=>this.changFlag()}></ChildC>}></Route>        </Routes>        </div>    )  }}
```

### React UIåº“

#### antd

antd æ˜¯åŸºäº Ant Design è®¾è®¡ä½“ç³»çš„ React UI ç»„ä»¶åº“ã€‚

**ç‰¹ç‚¹**

* ğŸŒˆ æç‚¼è‡ªä¼ä¸šçº§ä¸­åå°äº§å“çš„äº¤äº’è¯­è¨€å’Œè§†è§‰é£æ ¼ã€‚
* ğŸ“¦ å¼€ç®±å³ç”¨çš„é«˜è´¨é‡ React ç»„ä»¶ã€‚
* ğŸ›¡ ä½¿ç”¨ TypeScript å¼€å‘ï¼Œæä¾›å®Œæ•´çš„ç±»å‹å®šä¹‰æ–‡ä»¶ã€‚
* âš™ï¸ å…¨é“¾è·¯å¼€å‘å’Œè®¾è®¡å·¥å…·ä½“ç³»ã€‚
* ğŸŒ æ•°åä¸ªå›½é™…åŒ–è¯­è¨€æ”¯æŒã€‚
* ğŸ¨ æ·±å…¥æ¯ä¸ªç»†èŠ‚çš„ä¸»é¢˜å®šåˆ¶èƒ½åŠ›ã€‚

**å®˜æ–¹**

```
https://ant.design/index-cn
```

**ä¸‹è½½**

**cdnæ–¹å¼**

```
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/antd/4.22.1/antd.css" /><script src="https://cdnjs.cloudflare.com/ajax/libs/antd/4.22.1/antd.js"></script>
```

**npmæ–¹å¼**

```
npm i antd
```

**å¼•å…¥æ–¹å¼**

**å…¨å±€å¼•å…¥**

**index.js**

```
import "antd/dist/antd.css"
```

**ç»„ä»¶ä½¿ç”¨**

```
import React, { Component } from 'react'import {Button} from "antd";import {CaretRightOutlined,AliwangwangOutlined} from "@ant-design/icons"; export default class Page extends Component {  render() {    return (      <div>        <Button type="primary" >æŒ‰é’®</Button>        <Button type="danger" >æŒ‰é’®</Button>        <Button type="danger"  ghost>æŒ‰é’®</Button>        <Button>æŒ‰é’®</Button>        <CaretRightOutlined style={{color:"blue"}} />        <AliwangwangOutlined style={{color:"pink"}}/>        <p>Page</p>        </div>    )  }}
```

**æŒ‰éœ€å¼•å…¥**

**ç»„ä»¶å†…**

```
import React, { Component } from 'react'import {Button} from "antd";import {CaretRightOutlined,AliwangwangOutlined} from "@ant-design/icons"; import "antd/es/button/style/index.css"export default class Page extends Component {  render() {    return (      <div>        <Button type="primary" >æŒ‰é’®</Button>        <Button type="danger" >æŒ‰é’®</Button>        <Button type="danger"  ghost>æŒ‰é’®</Button>        <Button>æŒ‰é’®</Button>        <CaretRightOutlined style={{color:"blue"}} />        <AliwangwangOutlined style={{color:"pink"}}/>        <p>Page</p>        </div>    )  }}
```

**babel-plugin-importæ’ä»¶æ–¹å¼å¼•å…¥ï¼ˆæ¨èï¼‰**

**ä¸‹è½½**

```
npm i babel-plugin-import
```

**ä½¿ç”¨**

1ã€åœ¨ src ä¸‹åˆ›å»º.babelrcæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```
{ "presets": [ "react-app" ], "plugins": [ 	["import", { "libraryName": "antd", "style": "css" }]  ] }
```

2ã€é€šè¿‡å‘½ä»¤æš´éœ² webpack.config.jsé…ç½®æ–‡ä»¶

```
npm run eject   y				// å¯èƒ½ä¼šæŠ¥é”™ï¼Œå› ä¸ºæœ¬åœ°ä»“åº“çš„ä»£ç å’Œä½ ç°åœ¨çš„ä»£ç ä¸æ˜¯åŒä¸€ä¸ªç‰ˆæœ¬git add .						// å°†å½“å‰æ–‡ä»¶å¤¹æ‰€æœ‰æ–‡ä»¶æ›´æ–°åˆ°æœ¬åœ°ä»“åº“git commit -m "123"				// ç»™æœ¬åœ°ä»“åº“çš„æ–‡ä»¶æ·»åŠ æè¿°ä¿¡æ¯npm run eject	y
```

3ã€ä¿®æ”¹config/webpack.config.js

```
ä¿®æ”¹babelrc:true
```

4ã€ä¿®æ”¹ package.json

```
åˆ é™¤"babel": {"presets": ["react-app"]}
```

5ã€é‡å¯é¡¹ç›®

```
npm start
```

6ã€ä½¿ç”¨å³å¯

```
import React, { Component } from 'react'import {Button} from "antd";import {CaretRightOutlined,AliwangwangOutlined} from "@ant-design/icons"; export default class Page extends Component {  render() {    return (      <div>        <Button type="primary" >æŒ‰é’®</Button>        <Button type="danger" >æŒ‰é’®</Button>        <Button type="danger"  ghost>æŒ‰é’®</Button>        <Button>æŒ‰é’®</Button>        <CaretRightOutlined style={{color:"blue"}} />        <AliwangwangOutlined style={{color:"pink"}}/>        <p>Page</p>        </div>    )  }}
```

### æ•°æ®äº¤äº’

#### é…ç½®ä»£ç†

**æ–¹å¼ä¸€**

**é…ç½®package.jsonä»£ç†**

1ã€package.jsonæ·»åŠ é”®å€¼å¯¹

```
 "proxy": "http://localhost:3000"
```

2ã€é‡å¯é¡¹ç›®

```
npm start
```

3ã€ä½¿ç”¨

```
import axios from "axios";let { data } = await axios.get("/api/getbanner")
```

**æ–¹å¼äºŒ**

**æ’ä»¶åº“æ–¹å¼**

1ã€å®‰è£…ä¾èµ–

```
npm i http-proxy-middleware
```

2ã€åˆ›å»ºsetupProxy.jsæ–‡ä»¶

åœ¨srcä¸‹åˆ›å»ºã€setupProxy.jsã€‘æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```
const proxy = require("http-proxy-middleware")module.exports = (app)=>{  app.use("/api",proxy.createProxyMiddleware({    target:"http://localhost:3000",    changeOrigin:true,    pathRewrite:{      "^/api":"http://localhost:3000"    }  }))}
```

3ã€ä½¿ç”¨

```
let {data}=await axios.get("/aaa/api/getbanner");// æ³¨æ„ï¼šå¦‚æœä½¿ç”¨è¿™ç§æ–¹å¼é…ç½®ä»£ç†çš„è¯ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹è¯·æ±‚åœ°å€å‰é¢éœ€è¦åŠ ä¸Š/aaaï¼Œç”Ÿäº§ç¯å¢ƒå°±ä¸éœ€è¦åŠ /aaaäº†.
```

#### axiosä½¿ç”¨

**getæ–¹å¼**

```
let {data}=await axios.get("/aaa/api/getbanner");
```

**postæ–¹å¼**

```
let {data:dd}=await axios.post("/aaa/api/login",{phone:"12312311231",password:123123});
```

**å°è£…çš„ä½¿ç”¨**

http.js

```
import axios from "axios";export let baseURL="";if(process.env.NODE_ENV==="development"){    baseURL="http://localhost:3000";}//è¯·æ±‚æ‹¦æˆªå™¨axios.interceptors.request.use(req=>req);//å“åº”æ‹¦æˆªå™¨axios.interceptors.response.use(res=>res);export const getDatabyAxios=(url,{params,data},method="get")=>axios({    url,    method,    params,    data,    timeout:3000,    headers:{    }});
```

api.js

```
import {getDatabyAxios} from "./http";export const getBanner=()=>getDatabyAxios("/aaa/api/getbanner",{params:undefined});
```
