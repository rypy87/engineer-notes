# Node基础知识API

## Node简介

### 基本概念

Node.js 是一个基于 Chrome V8 引擎的解析器和运行环境。

Node.js本身带有一个内置的REPL来解析JavaScript代码，且内置了增强JavaScript编程的模块。

Node.js可以使用在任意操作系统上，可以开发与系统硬件交互的应用程序，主要应用于服务端开发，用来操作文件和创建http服务及进程操作。

### 官方网址

\*\*英文：\*\*https://nodejs.org/en/

\*\*中文：\*\*https://nodejs.org/zh-cn/

\*\*中文官方论坛cnodejs：\*\*https://cnodejs.org/

### Node特点

1.单线程

2.非阻塞I/O机制

3.事件驱动(事件环机制)

## 第一个Node程序

文件

```
console.log("hello world!")
```

运行指令

```
node 文件名[.js]
```

## 命令行和CMD

### 命令

完整的命令是由单词或词组的全称/简写构成。

### 使用命令步骤：

打开cmd(命令提示行)->输入命令 ->回车执行命令

### 打开cmd方法：

(1)windows + R -> cmd 回车 (2)打开任意文件夹 -> 在地址栏输入cmd -> 回车 (3)运行/搜索->输入cmd->回车

### cmd操作技巧：

(1)tab键 快速补全文件或目录名称 (2)上下箭头 ↑↓ 快速定位最近执行的命令 (3)Esc键取消本次命令

### 常用命令

#### 清屏

**语法：**

```
cls
```

#### 列出当前目录下所有文件

**语法：**

```
dir
```

#### 进入指定目录

**语法：**

```
cd 路径(目录)
```

#### 返回上一层目录/根目录

**语法：**

```
cd..  /  cd /
```

#### 切换盘符

**语法：**

```
盘符:
```

#### 创建文件夹

**语法：**

```
md /mkdir 文件夹名
```

#### 删除文件夹

**语法：**

```
rd / rmdir 文件夹名
```

#### 删除文件

**语法：**

```
del 文件名
```

## 环境变量

环境变量就是访问文件或文件夹的另一种快速通道，在系统在中配置环境变量，可以快速访问文件或文件夹。

## 文件系统(File system)

### 进制

#### 概念

进制描述的是进位计数规则。对于任何一种进制称为X进制，就表示每一位置上的数运算时都是逢X进一位。 十进制是逢十进一，十六进制是逢十六进一，二进制就是逢二进一，以此类推，x进制就是逢x进位。

#### 常见进制

二进制、八进制、十进制、十六进制...

#### 进制转换原理

\*\*二进制：\*\*二进制由1和0组成，逢2进1，计算机在底层运算中都把数据转换成了二进制。

\*\*十进制：\*\*十进制是由0-9组成，逢10进1。

### 计算机存储原理

计算机中最小的单位是位bit比特。存储文件的的最小的单位是 B 字节 1B = 8bit。计算机中文件以十六进制存储：计算机中常用十六进制表示2进制，这样位数就不需要那么长。由0-F组成。

**进制换算方式：**

```
1B = 8 Bit
1Kb = 1024B
1MB= 1024KB
1GB = 1024MB
1TB  = 1024GB
1PB = 1024TB
1EB = 1024PB
1ZB = 1024EB
1TB = 1024ZB
```

### ascii码

ascii是最通用的信息交换标准。

![](../.gitbook/assets/ascii码.png)

\*\*注：\*\*目前utf-8是国际通用标准，规定3个字节的长度表示一个中文。

### 文件概念

一篇文章、一段视频、一个可执行程序、一个网页，都可以存储在计算机的硬盘中，并赋予一个名字，它就被称为文件。

### Node文件系统(File system)模块

Node文件系统，File system模块，简称FS模块。模块提供了两套风格的API，一套是采用回调函数(callback)风格API，一套是采用Promise对象风格API。每种风格的API都包含两种方式的API，异步方式和同步方式。例如，读文件的方法，异步方式，引用.readFile()，同步方式，引用.readFileSync()。写文件的方法，异步方式，引用.writeFile()，同步方式，引用.writeFileSync()。在开发过程中，建议使用异步方式，可以避免程序阻塞。

**引入方式：**

```
const fs = require(‘fs’).promises 或 require(‘fs/promises’);//Promise对象风格，支持V14及以上版本
const fs = require(‘fs’);//回调函数风格
```

### 文件操作流程：

**文件操作步骤：**

1、引入fs文件模块

2、打开文件

3、将内容写入文件

4、关闭文件

#### 打开文件操作：

**语法：**

```
fs.open(path[, flags[, mode]], callback)
fs.openSync(path[, flags[, mode]])
```

**参数：**

path：文件路径 flags：设置打开文件的模式(访问模式)。默认值 r mode ：设置文件权限模式（权限和粘滞位）。默认值: 0o666。 callback： err:错误信息 fd:文件句柄

打开文件模式

| **模式** | **描述**                                            |
| ------ | ------------------------------------------------- |
| a      | 打开文件用于追加。 如果文件不存在，则创建该文件。                         |
| ax     | 打开文件用于追加。 如果文件不存在，则创建该文件，如果路径存在，则失败。              |
| a+     | 打开文件用于读取和追加。 如果文件不存在，则创建该文件。                      |
| ax+    | 打开文件用于读取和追加。 如果文件不存在，则创建该文件，如果路径存在，则失败            |
| as     | 打开文件用于追加（在同步模式中）。 如果文件不存在，则创建该文件。                 |
| as+    | 打开文件用于读取和追加（在同步模式中）。 如果文件不存在，则创建该文件。              |
| r      | 打开文件用于读取。 如果文件不存在，则会发生异常。                         |
| r+     | 打开文件用于读取和写入。 如果文件不存在，则会发生异常。                      |
| rs+    | 打开文件用于读取和写入（在同步模式中）。 指示操作系统绕过本地的文件系统缓存。           |
| w      | 打开文件用于写入。 如果文件不存在则创建文件，如果文件存在则截断文件。               |
| wx     | 打开文件用于写入。 如果文件不存在则创建文件，如果文件存在则截断文件，如果路径存在，则失败。    |
| w+     | 打开文件用于读取和写入。 如果文件不存在则创建文件，如果文件存在则截断文件。            |
| wx+    | 打开文件用于读取和写入。 如果文件不存在则创建文件，如果文件存在则截断文件，如果路径存在，则失败。 |

#### 写入操作：

​ 将内容写入文件

**语法：**

```
fs.write(fd, string[, position[, encoding]], callback)
fs.writeSync(fd, string[, position[, encoding]])
```

**参数：**

fd，文件句柄 string | ，写入内容 position ，在文件中写入内容的位置。 encoding 编码格式，默认值: 'utf8' callback err ，错误信息 written ，指定写入内容的字节 string ，写入内容
